(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{127:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return p})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return d})),a.d(t,"default",(function(){return u}));var n=a(2),r=a(6),l=a(0),c=a(129);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=l.createElement("g",{id:"graph1",className:"graph",transform:"scale(1 1) rotate(0) translate(4 256)"},l.createElement("title",null,"States"),l.createElement("polygon",{fill:"white",stroke:"white",points:"-4,5 -4,-256 290,-256 290,5 -4,5"}),l.createElement("g",{id:"node1",className:"node"},l.createElement("title",null,"OFF"),l.createElement("ellipse",{fill:"none",stroke:"black",cx:159,cy:-234,rx:28.6156,ry:18}),l.createElement("text",{textAnchor:"middle",x:159,y:-229.8,fontFamily:"Times,serif",fontSize:14},l.createElement("a",{href:"#off"},"OFF"))),l.createElement("g",{id:"node3",className:"node"},l.createElement("title",null,"BOOTING"),l.createElement("ellipse",{fill:"none",stroke:"black",cx:159,cy:-162,rx:54.2146,ry:18}),l.createElement("text",{textAnchor:"middle",x:159,y:-157.8,fontFamily:"Times,serif",fontSize:14},l.createElement("a",{href:"#booting"},"BOOTING"))),l.createElement("g",{id:"edge2",className:"edge"},l.createElement("title",null,"OFF-&gt;BOOTING"),l.createElement("path",{fill:"none",stroke:"black",d:"M153.122,-216.055C152.304,-208.346 152.061,-199.027 152.395,-190.364"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"155.894,-190.491 153.087,-180.275 148.911,-190.012 155.894,-190.491"})),l.createElement("g",{id:"node5",className:"node"},l.createElement("title",null,"HIBERNATING"),l.createElement("ellipse",{fill:"none",stroke:"black",cx:77,cy:-18,rx:77.0032,ry:18}),l.createElement("text",{textAnchor:"middle",x:77,y:-13.8,fontFamily:"Times,serif",fontSize:14},l.createElement("a",{href:"#hibernating"},"HIBERNATING"))),l.createElement("g",{id:"edge4",className:"edge"},l.createElement("title",null,"OFF-&gt;HIBERNATING"),l.createElement("path",{fill:"none",stroke:"black",d:"M138.377,-221.459C123.962,-212.218 105.631,-197.866 96,-180 73.102,-137.525 72.3523,-79.7318 74.3551,-46.1882"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"77.8469,-46.4261 75.0774,-36.1997 70.8651,-45.9211 77.8469,-46.4261"})),l.createElement("g",{id:"edge8",className:"edge"},l.createElement("title",null,"BOOTING-&gt;OFF"),l.createElement("path",{fill:"none",stroke:"black",d:"M164.913,-180.275C165.715,-188.03 165.94,-197.362 165.591,-206.005"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"162.094,-205.832 164.878,-216.055 169.077,-206.327 162.094,-205.832"})),l.createElement("g",{id:"node7",className:"node"},l.createElement("title",null,"ON"),l.createElement("ellipse",{fill:"none",stroke:"black",cx:225,cy:-90,rx:27,ry:18}),l.createElement("text",{textAnchor:"middle",x:225,y:-85.8,fontFamily:"Times,serif",fontSize:14},l.createElement("a",{href:"#on"},"ON"))),l.createElement("g",{id:"edge6",className:"edge"},l.createElement("title",null,"BOOTING-&gt;ON"),l.createElement("path",{fill:"none",stroke:"black",d:"M174.641,-144.411C183.511,-135.004 194.72,-123.115 204.31,-112.944"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"206.949,-115.247 211.262,-105.57 201.855,-110.445 206.949,-115.247"})),l.createElement("g",{id:"edge18",className:"edge"},l.createElement("title",null,"HIBERNATING-&gt;BOOTING"),l.createElement("path",{fill:"none",stroke:"black",d:"M86.9716,-36.2678C101.274,-61.036 127.71,-106.816 144.27,-135.492"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"141.24,-137.244 149.272,-144.153 147.302,-133.743 141.24,-137.244"})),l.createElement("g",{id:"edge10",className:"edge"},l.createElement("title",null,"ON-&gt;OFF"),l.createElement("path",{fill:"none",stroke:"black",d:"M228.36,-108.046C231.176,-126.718 233.154,-157.059 222,-180 214.789,-194.831 201.282,-207.059 188.618,-216.018"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"186.469,-213.243 180.073,-221.689 190.34,-219.075 186.469,-213.243"})),l.createElement("g",{id:"edge14",className:"edge"},l.createElement("title",null,"ON-&gt;HIBERNATING"),l.createElement("path",{fill:"none",stroke:"black",d:"M203.48,-78.8214C181.295,-68.3286 146.145,-51.7038 118.525,-38.6402"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"120.013,-35.4722 109.476,-34.3604 117.02,-41.8001 120.013,-35.4722"})),l.createElement("g",{id:"node11",className:"node"},l.createElement("title",null,"SLEEPING"),l.createElement("ellipse",{fill:"none",stroke:"black",cx:229,cy:-18,rx:56.4429,ry:18}),l.createElement("text",{textAnchor:"middle",x:229,y:-13.8,fontFamily:"Times,serif",fontSize:14},l.createElement("a",{href:"#sleeping"},"SLEEPING"))),l.createElement("g",{id:"edge12",className:"edge"},l.createElement("title",null,"ON-&gt;SLEEPING"),l.createElement("path",{fill:"none",stroke:"black",d:"M225.989,-71.6966C226.43,-63.9827 226.959,-54.7125 227.451,-46.1124"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"230.946,-46.2878 228.023,-36.1043 223.958,-45.8883 230.946,-46.2878"})),l.createElement("g",{id:"edge16",className:"edge"},l.createElement("title",null,"SLEEPING-&gt;BOOTING"),l.createElement("path",{fill:"none",stroke:"black",d:"M214.167,-35.7138C205.89,-45.7017 195.89,-58.9517 189,-72 178.562,-91.7675 170.7,-115.887 165.649,-134.028"}),l.createElement("polygon",{fill:"black",stroke:"black",points:"162.2,-133.376 163.001,-143.941 168.963,-135.183 162.2,-133.376"})));var m=function(e){var t=e.title,a=e.titleId,n=o(e,["title","titleId"]);return l.createElement("svg",i({width:"293pt",height:"260pt",viewBox:"0.00 0.00 293.00 260.00","aria-labelledby":a},n),t?l.createElement("title",{id:a},t):null,b)},p={id:"core-power-low",title:"Low-level"},s={unversionedId:"core/power/core-power-low",id:"core/power/core-power-low",isDocsHomePage:!1,title:"Low-level",description:"SPM",source:"@site/docs/core/power/low_level.md",slug:"/core/power/core-power-low",permalink:"/documentation/docs/core/power/core-power-low",version:"current",sidebar:"coreSidebar",previous:{title:"High-level",permalink:"/documentation/docs/core/power/core-power-high"},next:{title:"What are Returners",permalink:"/documentation/docs/core/returners/core-returners"}},d=[{value:"SPM",id:"spm",children:[{value:"States",id:"states",children:[]}]},{value:"STN",id:"stn",children:[]}],O={rightToc:d};function u(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},O,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"spm"},"SPM"),Object(c.b)("p",null,"The SPM (Smart Power Management) is an embedded system that controls the low-level power cycle of the device. It interacts with a number of subsystems that can initiate power state changes:"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Subsystem"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Accelerometer"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Built-in accelerometer is capable of triggering wake up based on physical movement events.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Modem"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Installed modem module can trigger wake up on received SMS or dial up call.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#stn"}),"STN")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Built-in chipset triggers power on and off based on voltage level changes.")))),Object(c.b)("p",null,"Finally the Raspberry Pi communicates directly with the SPM and performs power state changes based on more ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"/documentation/docs/core/power/core-power-high"}),"high-level")," decisions.  "),Object(c.b)("h3",{id:"states"},"States"),Object(c.b)("p",null,"Below diagram shows an overview of all possible SPM states and the transitions between."),Object(c.b)(m,{mdxType:"StatesSvg"}),Object(c.b)("h4",{id:"off"},"OFF"),Object(c.b)("p",null,"Everything is powered off."),Object(c.b)("h5",{id:"transitions"},"Transitions"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"State"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Condition"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#booting"}),"BOOTING")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The device is plugged in.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#hibernating"}),"HIBERNATING")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Maximum number of boot attempts reached. Default is 10 attempts.")))),Object(c.b)("h4",{id:"booting"},"BOOTING"),Object(c.b)("p",null,"Everything is powered on and the Raspberry Pi is booting up."),Object(c.b)("h5",{id:"transitions-1"},"Transitions"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"State"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Condition"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#on"}),"ON")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Successfully communicated with the Raspberry Pi.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#off"}),"OFF")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No communication with the Raspberry Pi within a given time limit. Default boot timeout is 10 minutes.")))),Object(c.b)("h4",{id:"on"},"ON"),Object(c.b)("p",null,"Everything is powered on and there is regular communication with the Raspberry Pi."),Object(c.b)("h5",{id:"transitions-2"},"Transitions"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"State"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Condition"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#sleeping"}),"SLEEPING")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The Raspberry Pi decided to sleep for a given period of time.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#hibernating"}),"HIBERNATING")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The Raspberry Pi decided to hibernate or the STN chip powered off according to its triggers.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#off"}),"OFF")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No communication with the Raspberry Pi within a given time limit. Default heartbeat timeout is 3 minutes.")))),Object(c.b)("h4",{id:"sleeping"},"SLEEPING"),Object(c.b)("p",null,"The Raspberry Pi is powered off. Modem and GPS is kept on in low power mode."),Object(c.b)("p",null,"Wake up will happen after a specified period of sleep time or earlier if:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"STN is powered on."),Object(c.b)("li",{parentName:"ul"},"Received wake signal from modem."),Object(c.b)("li",{parentName:"ul"},"Received wake signal from accelerometer.")),Object(c.b)("h5",{id:"transitions-3"},"Transitions"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"State"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Condition"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#booting"}),"BOOTING")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"See the above criteria.")))),Object(c.b)("h4",{id:"hibernating"},"HIBERNATING"),Object(c.b)("p",null,"Everything is shut down for maximum power saving."),Object(c.b)("h5",{id:"transitions-4"},"Transitions"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"State"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Condition"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(n.a)({parentName:"td"},{href:"#booting"}),"BOOTING")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The STN powers on (when transitions from off to on).")))),Object(c.b)("h2",{id:"stn"},"STN"),Object(c.b)("p",null,"See the STN command for available power trigger options ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"/documentation/docs/core/commands/core-cmd-stn"}),"here"),"."))}u.isMDXComponent=!0},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return O}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),m=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=m(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,b=o(e,["components","mdxType","originalType","parentName"]),p=m(a),d=n,O=p["".concat(c,".").concat(d)]||p[d]||s[d]||l;return a?r.a.createElement(O,i(i({ref:t},b),{},{components:a})):r.a.createElement(O,i({ref:t},b))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,c=new Array(l);c[0]=d;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var b=2;b<l;b++)c[b]=a[b];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);