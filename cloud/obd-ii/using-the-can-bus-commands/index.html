<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cloud/obd-ii/using-the-can-bus-commands" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Using the CAN Bus Commands | AutoPi Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.autopi.io/img/shared/favicon-194x194.png"><meta data-rh="true" name="twitter:image" content="https://docs.autopi.io/img/shared/favicon-194x194.png"><meta data-rh="true" property="og:url" content="https://docs.autopi.io/cloud/obd-ii/using-the-can-bus-commands/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using the CAN Bus Commands | AutoPi Documentation"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/img/shared/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.autopi.io/cloud/obd-ii/using-the-can-bus-commands/"><link data-rh="true" rel="alternate" href="https://docs.autopi.io/cloud/obd-ii/using-the-can-bus-commands/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.autopi.io/cloud/obd-ii/using-the-can-bus-commands/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7BRH96O31B-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DB2BZPKYN9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DB2BZPKYN9",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="AutoPi Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.018722d2.css">
<script src="/assets/js/runtime~main.1304db81.js" defer="defer"></script>
<script src="/assets/js/main.9e6b6b78.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/shared/logo_trans_doc.png"><link rel="preload" as="image" href="/img/shared/logo_trans_doc_dark.png"><link rel="preload" as="image" href="/img/hardware/autopi_tmu_cm4/TMU_Floating_Topside_V1_scaled.png"><link rel="preload" as="image" href="/img/shared/autopi_devices_trans.png"><link rel="preload" as="image" href="/img/shared/favicon.ico"><link rel="preload" as="image" href="/img/shared/support_icon.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/shared/logo_trans_doc.png" alt="AutoPi Documentation Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/shared/logo_trans_doc_dark.png" alt="AutoPi Documentation Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/getting_started/autopi_tmu_cm4/">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud/">Cloud</a><a class="navbar__item navbar__link" href="/core/">Core</a><a class="navbar__item navbar__link" href="/hardware/">Hardware</a><a class="navbar__item navbar__link" href="/developer_guides/">Guides</a><a href="https://api.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a></div><div class="navbar__items navbar__items--right"><a href="https://my.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cloud-btn">My Cloud</a><a href="https://shop.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cta-btn">Shop</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">AutoPi Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/getting_started/autopi_tmu_cm4/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/developer_guides/">Developer Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cloud/">Cloud</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud/fleet_management/">Fleet Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud/device_management/">Device Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cloud/obd-ii/">OBD-II</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/can-bus-configuration/">CAN Bus Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/create-pid-loggers/">Create PID Loggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/create-can-signal-loggers/">Create CAN Signal Loggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/debug-raw-pid-queries/">Debug Raw PID Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/log-raw-can-messages/">Log Raw CAN Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud/obd-ii/using-the-can-bus-commands/">Using the CAN Bus Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/automatic-obd-logger-pausing/">Automatic OBD Logger Pausing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/obd-ii/create-valid-can-dump/">Create a Valid Can Dump</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud/obd_library/car-explorer-library-manual/">OBD Library</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/accounts/">Accounts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/core/">Core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/hardware/">Hardware</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://api.autopi.io/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cloud</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">OBD-II</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using the CAN Bus Commands</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using the CAN Bus Commands</h1></header><div style="padding:1rem;margin-bottom:1.5rem"><strong>This guide is applicable to the following device/ devices:</strong><div style="display:flex;gap:1.5rem;margin-top:0.5rem"><div style="text-align:center"><img src="/img/hardware/autopi_tmu_cm4/TMU_Floating_Topside_V1_scaled.png" alt="TMU CM4" style="height:60px;margin-bottom:0.25rem"><div>TMU CM4</div></div></div></div>
<hr>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Working with the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus is on your own risk. Playback and sending commands to the vehicle can be
used to control functions in the vehicle affecting the behavior of the vehicle. We recommend that
you NEVER do testing on a vehicle in motion and that you have the parking brake enabled while you
test.</p></div></div>
<p>In this guide, we will explore how you can communicate and interact with your vehicle&#x27;s <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus.
Typically, there are two types of <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> busses.</p>
<p>One type responds to requests for data, that is to say, it almost acts like an HTTP server - it
receives a request for a specific data point (let&#x27;s say speed or RPM) and it sends the requested
data back. This type of <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus is usually handled with PIDs.</p>
<p>The second type sends all the vehicle&#x27;s data on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus. This means that there is going to be
large amounts of data being streamed. We call this type of data <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Messages. Within those <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a>
messages are the so-called <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> signals. Each signal usually represents a specific data point, like
speed or RPM.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sending-pids">Sending PID&#x27;s<a href="#sending-pids" class="hash-link" aria-label="Direct link to Sending PID&#x27;s" title="Direct link to Sending PID&#x27;s">​</a></h2>
<p>Let&#x27;s start off with the <a href="/core/commands/core-commands-obd/#obdquery"><code>obd.query</code></a> command. This command is
used to query the first type of <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> busses. Let&#x27;s take a look at an example:</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">obd.query test mode=01 pid=0C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You may need to add the <code>force=True</code> parameter to make sure the ECU in the vehicle accepts the
command.</p></div></div>
<p>This command can be run from <a href="https:/my.autopi.io" target="_blank" rel="noopener noreferrer">my.autopi.io</a> or
<a href="http://local.auotpi.io" target="_blank" rel="noopener noreferrer">local.autopi.io</a>&#x27;s web consoles. Let&#x27;s try to explain each element of the
command. Firstly, <code>obd.query</code> - that is simply the command that we&#x27;re attempting to execute. Next is
<code>test</code>. This is the name that the PID will use. It makes no difference to the comand&#x27;s execution
what the name is going to be, but if you end up setting up a logger, the name will be used to save
that data on your account, so you can later reference it using the name to create a widget.</p>
<p>Next, there is the <code>mode=01</code> and <code>pid=0C</code> pieces of the puzzle. These are the specifications of
which data point you&#x27;d like to query for. In this case, we are asking the ECU of the vehicle to
respond with the current RPM. You can see a full list of standard PID&#x27;s
<a href="https://en.wikipedia.org/wiki/OBD-II_PIDs" target="_blank" rel="noopener noreferrer">here</a>. Your vehicle may be able to support more or less
PID&#x27;s than shown on Wikipedia.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you&#x27;d like to run this command directly
from the device (through <a href="/developer_guides/how-to-ssh-to-your-device/">SSH</a> or similar), you will need to
prepend the <code>autopi</code> keyword, like so:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">autopi obd.query test mode=01 pid=0C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-can-interface">The <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Interface<a href="#the-can-interface" class="hash-link" aria-label="Direct link to the-can-interface" title="Direct link to the-can-interface">​</a></h2>
<p>The CAN interface is somewhat different than just sending standard PID&#x27;s. It relies more on
parcing the full data stream on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus. This is far more advanced, but it also opens up to a
whole new level of fun.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-protocol">Setting the Protocol<a href="#setting-the-protocol" class="hash-link" aria-label="Direct link to Setting the Protocol" title="Direct link to Setting the Protocol">​</a></h3>
<p>The <a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer">AutoPi</a> is able to support a wide range of protocols. When you insert it into your vehicle it
will try to autodetect the protocol used by the vehicle. It is not always going to be the case that
the same protocol is used for all <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> traffic. In fact, <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> traffic may flow on more than one
protocol in your vehicle. Switching the protocol on the <a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer">AutoPi</a> makes it listen for traffic on
different electrical pins. You can check the current protocol settings using this command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">obd.protocol</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will give you a list of all the protocols you can set. Changing the protocol can be done with
this command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">obd.protocol set=&lt;num&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where <code>&lt;num&gt;</code> is the protocol number.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dumpingreading-data-from-the-can-bus">Dumping/Reading Data From the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Bus<a href="#dumpingreading-data-from-the-can-bus" class="hash-link" aria-label="Direct link to dumpingreading-data-from-the-can-bus" title="Direct link to dumpingreading-data-from-the-can-bus">​</a></h3>
<p>The new interface opens up for dumping data from the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus on the protocol selected. This can be
done using the <a href="/core/commands/core-commands-obd/#obddump"><code>obd.dump</code></a> command. Using the command is very easy:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">obd.dump duration=5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Optional parameters:</p>
<ul>
<li><code>duration=&lt;seconds&gt;</code>: How many seconds to record data. Default is <code>2</code> seconds.</li>
<li><code>file=&lt;path&gt;</code>: Write data to a file instead of displaying it on the screen.</li>
</ul>
<p>This will dump a list of messages recorded within 5 seconds of starting the execution of the
command. Those messages might not make much sense at first glance, but that&#x27;s okay. Usually, DBC
files are used to parse those messages into human readable data.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="playback-of-a-recorded-file">Playback of a Recorded File<a href="#playback-of-a-recorded-file" class="hash-link" aria-label="Direct link to Playback of a Recorded File" title="Direct link to Playback of a Recorded File">​</a></h3>
<p>A file recorded with the <code>obd.dump</code> command can be played/replayed to the vehicle using the
<a href="/core/commands/core-commands-obd/#obdplay"><code>obd.play</code></a> command. Here&#x27;s an example usage:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">obd.play file=&lt;path&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The will playback the entire file on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus.</p>
<p>Optional parameters:</p>
<ul>
<li><code>slice=&lt;T|B&gt;</code>: Slice the list of messages before sending on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus. Based one the divide
and conquer algorithm. Multiple slice characters can be specified in continuation of each other.<!-- -->
<ul>
<li><code>T</code>: Top half of remaining result.</li>
<li><code>B</code>: Bottom half of remaining result.</li>
</ul>
</li>
<li><code>filter=&lt;expression&gt;</code>: Filter out messages before sending on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus. Multiple filters can
be specified if separated using comma characters.<!-- -->
<ul>
<li><code>+[id][#][data]</code>: Include only messages matching string.</li>
<li><code>-[id][#][data]</code>: Exclude messages matching string.</li>
<li><code>+duplicate</code>: Include only messages where duplicates exist.</li>
<li><code>-duplicate</code>: Exclude messages where duplicates exist.</li>
<li><code>+mutate</code>: Include only messages where data mutates.</li>
<li><code>-mutate</code>: Exclude messages where data mutates.</li>
</ul>
</li>
<li><code>group=&lt;id|msg&gt;</code>: How to group the result of sent messages. This only affects the display
values returned from this command. Default is <code>id</code>.</li>
<li><code>test=&lt;true|false&gt;</code>: Run command in test-only (dry-run) mode. No data will be sent on <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus.
Default is <code>false</code>.</li>
</ul>
<p>All the filter parameters can be used to find the specific commands that you are seeking. With
filters you can remove data that you know is not relevant for finding your specific command (like
data that appears a lot). With the slice parameter you can use the &quot;divide and conquer&quot; technique
to find the specific command.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sending-a-single-message">Sending a Single Message<a href="#sending-a-single-message" class="hash-link" aria-label="Direct link to Sending a Single Message" title="Direct link to Sending a Single Message">​</a></h3>
<p>The <code>obd.dump</code> and the <code>obd.play</code> commands is typically used for finding a single specific
command you want to send to the car. This can be lock/unlock or something else controlling your
vehicle.</p>
<p>When you have the specific command, you can send it directly using the
<a href="/core/commands/core-commands-obd/#obdsend"><code>obd.send</code></a> command. Here&#x27;s an example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">obd.send 2101#280000000003E800 expect_response=True auto_format=True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The first part before the # is the ECU number (the header) and the last part is the data payload.
You may need to remove the <code>expect_response</code> if the ECU doesn&#x27;t respond on the message you&#x27;ve
send.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-obd2-queries">Non-OBD2 Queries<a href="#non-obd2-queries" class="hash-link" aria-label="Direct link to Non-OBD2 Queries" title="Direct link to Non-OBD2 Queries">​</a></h3>
<p>Sometimes a vehicle supports non-OBD-2 queries. An example of this is manufacturer proprietary
protocols. When this is the case, you need to enrich the queries with <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Flow Control parameters.</p>
<p>Let&#x27;s look at an example of a proprietary query, where the request data is <code>1AA # 02 00 01 00 00 00 00 00</code>,
and the response is <code>2AA # 02 XX XX 00 00 00 00 00</code>, where the <code>XX</code> bytes are the data bytes. For
the sake of having the example complete, let&#x27;s assume that this queries for the speed in kph. If
we try to do this query as we might with any other OBD-2 PID, we won&#x27;t get a response. This is
because the device does not know how the message looks like. This might seem pointless if these
request-response messages are the only traffic on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus, however, imagine if there are hundreads
of <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> frames being sent on the bus every second. How is the device to know which <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> frame is the
response? We need to specify this manually.</p>
<p>If you take a look at the <a href="/core/commands/core-commands-obd/#obdquery">obd.query</a> command, you&#x27;ll notice several
arguments dedicated to can flow control. The 2 relevant ones are <strong><code>can_flow_control_filter</code></strong> and
<strong><code>can_flow_control_id_pair</code></strong>.</p>
<p><strong><code>can_flow_control_filter</code></strong> - filters out all non-query related can frames from the traffic. Although you
might get an expected response without specifying this parameter, you should still add it. The format for
it is <code>can_flow_control_filter=&lt;Pattern&gt;,&lt;Mask&gt;</code>. In the current example, that would look like this:
<code>can_flow_control_filter=2AA,7FF</code>.</p>
<p><strong><code>can_flow_control_id_pair</code></strong> - pairs the query request header (Transmitter ID) to the response header (Receiver ID)
in format <code>can_flow_control_id_pair=&lt;Transmitter ID&gt;,&lt;Receiver ID&gt;</code>. In this example, it would be: <code>can_flow_control_id_pair=1AA,2AA</code>.</p>
<p>All this taken into account, the command would look like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ obd.query PROPRIETARY_SPEED header=1AA mode=00 pid=01 can_flow_control_filter=2AA,7FF can_flow_control_id_pair=1AA,2AA force=True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">_stamp: &#x27;2023-08-28T12:22:31.253543&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">_type: proprietary_speed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">value: 2aa0200430000000000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, we&#x27;ll need to extract the speed data with a formula. In this case, all the data bytes correspond to
the data we&#x27;re looking for, so we can use the simple formula of <code>bytes_to_int(message.data)</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ obd.query PROPRIETARY_SPEED header=1AA mode=00 pid=01 can_flow_control_filter=2AA,7FF can_flow_control_id_pair=1AA,2AA force=True formula=&#x27;bytes_to_int(message.data)&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">_stamp: &#x27;2023-08-28T12:22:35.052518&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">_type: proprietary_speed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">value: 67</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>There are a few quirks to keep in mind when working with these and with <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus in general:</p><ul>
<li>As long as the vehicle&#x27;s bus is autodetected, the <code>obd.query</code> command will try to verify that the
protocol is still valid by sending a known valid OBD-2 message onto the bus and waiting for a reply. If
the vehicle does not support standard OBD-2, this will cause the command to fail. To prevent this, either
ensure the vehicle supports OBD-2, or create a new bus, which does not have the &#x27;autodetected&#x27; flag.</li>
<li>The selected protocol&#x27;s header length must match the header length of the sent/received messages. For
example, you can not specify <code>protocol=7</code>, which has a 29-bit header length, and then query for an 11-bit
message. You will not get the expected result. Keep in mind that there will always be a protocol selected,
even when one is not specified in the command. When the command is being run through the logger, this will
be the <code>default</code> protocol.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>For those closely familiar with <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> flow control, it might seem confusing that these parameters have
the can_flow_control_ prefix, as <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> flow control usually refers to multi-frame messages. The naming is
related to how older versions of the <a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer">AutoPi</a> communicated on the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-cloud-can-analyzer">Using the <a href="https://www.autopi.io/software-platform/cloud-management" target="_blank" rel="noopener noreferrer">Cloud</a> <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Analyzer<a href="#using-the-cloud-can-analyzer" class="hash-link" aria-label="Direct link to using-the-cloud-can-analyzer" title="Direct link to using-the-cloud-can-analyzer">​</a></h2>
<p>All the above commands are how the interface to the vehicle works. We have combined all of this in
an interactive <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Analyzer, which is accessible from the <a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer">AutoPi</a> <a href="https://www.autopi.io/software-platform/cloud-management" target="_blank" rel="noopener noreferrer">Cloud</a> in
Device &gt; <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Analyzer. If you don&#x27;t see that menu link, you need to make sure that you&#x27;ve
installed the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Analyzer add-on from the Add-ons page.</p>
<p>The <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Analyzer makes working with your car much simpler. To find your specific command follow
these steps:</p>
<ol>
<li>
<p>Configure your <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Bus interface. On the account page under &quot;Vehicles&quot; you can autodetect the
most common <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> Bus. If you need to work with a special <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> bus, make sure you have the right baud
rate configured.</p>
</li>
<li>
<p>Select the Bus you want to use and press record. The device will make a &quot;beep&quot; sound when the
recording begins and another one when the recording ends. Make sure that the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a> command you want
to record is happening between the two sounds (like door unlock or window control).</p>
</li>
<li>
<p>The recording is now stored on the device and you can play it back immediately using the <a href="https://www.autopi.io/hardware/autopi-canfd-pro" target="_blank" rel="noopener noreferrer">CAN</a>
player on the right-hand side of the screen.</p>
</li>
<li>
<p>You will see that a lot of data is returned from the bus, so to find the specific command for
your function, we recommend using the filters on the right-hand side. Typically, a lot of the data
is repetetive, so you can start out by removing all the duplicates.</p>
</li>
<li>
<p>With the filters, narrow down the results to as few as possible. Then you can replay the
commands one by one and see if you can find the command controlling the function you are looking
for.</p>
</li>
<li>
<p>When you have found your command you can always resend it by using the <code>obd.send</code> command
described above.</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/autopi-io/documentation/edit/master/docs/cloud/obd-ii/using_the_can_bus_commands.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cloud/obd-ii/log-raw-can-messages/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Log Raw CAN Messages</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cloud/obd-ii/automatic-obd-logger-pausing/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Automatic OBD Logger Pausing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sending-pids" class="table-of-contents__link toc-highlight">Sending PID&#39;s</a></li><li><a href="#the-can-interface" class="table-of-contents__link toc-highlight">The CAN Interface</a><ul><li><a href="#setting-the-protocol" class="table-of-contents__link toc-highlight">Setting the Protocol</a></li><li><a href="#dumpingreading-data-from-the-can-bus" class="table-of-contents__link toc-highlight">Dumping/Reading Data From the CAN Bus</a></li><li><a href="#playback-of-a-recorded-file" class="table-of-contents__link toc-highlight">Playback of a Recorded File</a></li><li><a href="#sending-a-single-message" class="table-of-contents__link toc-highlight">Sending a Single Message</a></li><li><a href="#non-obd2-queries" class="table-of-contents__link toc-highlight">Non-OBD2 Queries</a></li></ul></li><li><a href="#using-the-cloud-can-analyzer" class="table-of-contents__link toc-highlight">Using the Cloud CAN Analyzer</a></li></ul></div></div></div><div class="container margin-top--lg"><div class="row"><div class="col--9"><div class="customFooter_WTfN"><h2>Let&#x27;s stay in touch!</h2><p>Thank you for choosing AutoPi. We&#x27;re excited to see what you will achieve with your new device!</p><div class="cardGrid_P1Qm"><a href="https://shop.autopi.io" class="card_Jf15"><img src="/img/hardware/autopi_tmu_cm4/TMU_Floating_Topside_V1_scaled.png" alt="Buy AutoPi"><strong>Buy AutoPi device</strong><p>Check out our AutoPi shop and buy an AutoPi device.</p></a><a href="https://www.autopi.io/hardware/compare/" class="card_Jf15"><img src="/img/shared/autopi_devices_trans.png" alt="Compare devices"><strong>Compare all AutoPi devices</strong><p>Check which device fits your requirements the best.</p></a><a href="https://www.autopi.io/sales-inquiry/" class="card_Jf15"><img src="/img/shared/favicon.ico" alt="Sales team"><strong>Contact our sales team</strong><p>You can build on top of your AutoPi device.</p></a><a href="https://www.autopi.io/support/" class="card_Jf15"><img src="/img/shared/support_icon.png" alt="Support team"><strong>Contact our support team</strong><p>Let us know about your technical questions.</p></a></div></div></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">AutoPi.io</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">AutoPi.io</a></li><li class="footer__item"><a href="https://my.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">My AutoPi Cloud</a></li><li class="footer__item"><a href="https://shop.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shop</a></li><li class="footer__item"><a href="https://docs.autopi.io/search/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Search Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/autopi-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - AutoPi Core</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.reddit.com/r/autopi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCH50VR17emPVVfnIWlGMLig" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 AutoPi.io.</div></div></div></footer></div>
</body>
</html>