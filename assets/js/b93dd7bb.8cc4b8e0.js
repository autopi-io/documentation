"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[6318],{28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var i=n(96540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}},59344:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"developer_guides/setting-up-doip","title":"Setting up DoIP","description":"The DoIP solution described here only works with the AutoPi TMU CM4 and newer editions.","source":"@site/docs/developer_guides/setting_up_doip.md","sourceDirName":"developer_guides","slug":"/developer_guides/setting-up-doip","permalink":"/developer_guides/setting-up-doip","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/developer_guides/setting_up_doip.md","tags":[],"version":"current","frontMatter":{"id":"setting-up-doip","title":"Setting up DoIP"},"sidebar":"sidebar","previous":{"title":"Guides Intro","permalink":"/developer_guides/"},"next":{"title":"Enabling Bluetooth - Using bluepy with AutoPi Edge Devices","permalink":"/developer_guides/how-to-use-bluepy-with-autopi-edge-devices"}}');var o=n(74848),s=n(28453),r=n(29030);const d={id:"setting-up-doip",title:"Setting up DoIP"},a=void 0,h={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Contents",id:"contents",level:2},{value:"Ethernet Pin assignment at OBD Connector",id:"ethernet-pin-assignment-at-obd-connector",level:2},{value:"DoIP main pinout",id:"doip-main-pinout",level:3},{value:"DoIP alternative pinout",id:"doip-alternative-pinout",level:3},{value:"Controlling the DoIP port",id:"controlling-the-doip-port",level:3},{value:"Using the DoIP software",id:"using-the-doip-software",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.admonition,{title:"Before proceeding with the install",type:"caution",children:[(0,o.jsxs)(t.p,{children:["The DoIP solution described here only works with the ",(0,o.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"})," ",(0,o.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-tmu-cm4",children:"TMU CM4"})," and newer editions."]}),(0,o.jsx)(t.p,{children:"When installed, the Ethernet port on the AutoPi devices will internally be used for DoIP. Do not connect anything on the Ethernet port."}),(0,o.jsx)(t.p,{children:"Never install the upgraded device in a vehicle that does not support DoIP. Using an Ethernet based protocol in a vehicle that only supports CAN can affect the performance of the vehicle."})]}),"\n",(0,o.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(t.p,{children:"DoIP is a modern protocol used in the automotive industry for diagnostics and communication between vehicle components and external diagnostic equipment. This technology plays a crucial role in diagnosing and maintaining vehicles, ensuring they operate efficiently and safely.\nAs vehicles become more connected and complex, the need for advanced diagnostic capabilities increases. DoIP provides a robust framework that allows for faster, more reliable data transmission compared to older protocols."}),"\n",(0,o.jsx)(t.h2,{id:"contents",children:"Contents"}),"\n",(0,o.jsxs)(t.p,{children:["This guide covers configuring Diagnostics over IP on the AutoPi ",(0,o.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-tmu-cm4/",children:"TMU CM4"})," or ",(0,o.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro/",children:"CAN-FD Pro"})," devices. Paired with the AutoPi ",(0,o.jsx)(t.a,{href:"https://shop.autopi.io/products/doip-hat-v1-3",children:"DoIP HAT"}),", these devices can be upgraded to support DoIP. See this guide on how to install the ",(0,o.jsx)(t.a,{href:"/hardware/accessories/doip-install/",children:(0,o.jsx)(t.code,{children:"DoIP HAT"})}),". It's also possible to order the device pre-installed with the DoIP Solution."]}),"\n",(0,o.jsx)(t.h2,{id:"ethernet-pin-assignment-at-obd-connector",children:"Ethernet Pin assignment at OBD Connector"}),"\n",(0,o.jsx)(t.p,{children:"Installing the DoIP HAT on the AutoPi devices, transforms you device into that is capeable of communication over an Ethernet based protocol instead of a CAN Based protocol. This is a protocol used on some newer vehicles. The standard Pin out then changes in the 16pin OBD connector."}),"\n",(0,o.jsx)(t.p,{children:"After the upgrade four pins are used for Ethernet and one pin is used for activation. Two different types of pinout is defined in the DoIP standard and both are supported by the AutoPi HAT. Its only the Ethernet Rx lines that changes place."}),"\n",(0,o.jsx)(t.h3,{id:"doip-main-pinout",children:"DoIP main pinout"}),"\n",(0,o.jsx)("p",{align:"center",children:(0,o.jsx)("img",{src:(0,r.Ay)("img/guides/doip_main_pinout.jpg"),alt:"DoIP Main pinout",width:"600"})}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:(0,o.jsx)(t.strong,{children:"OBD pinout"})}),(0,o.jsx)(t.th,{children:(0,o.jsx)(t.strong,{children:"DoIP usage"})})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 3"}),(0,o.jsx)(t.td,{children:"Ethernet Rx (+)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 11"}),(0,o.jsx)(t.td,{children:"Ethernet Rx (-)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 12"}),(0,o.jsx)(t.td,{children:"Ethernet Tx (+)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 13"}),(0,o.jsx)(t.td,{children:"Ethernet Tx (-)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 8"}),(0,o.jsx)(t.td,{children:"DoIP Activation"})]})]})]}),"\n",(0,o.jsx)(t.h3,{id:"doip-alternative-pinout",children:"DoIP alternative pinout"}),"\n",(0,o.jsx)("p",{align:"center",children:(0,o.jsx)("img",{src:(0,r.Ay)("img/guides/doip_alt_pinout.jpg"),alt:"DoIP Alternative pinout",width:"600"})}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:(0,o.jsx)(t.strong,{children:"OBD pinout"})}),(0,o.jsx)(t.th,{children:(0,o.jsx)(t.strong,{children:"DoIP usage"})})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 1"}),(0,o.jsx)(t.td,{children:"Ethernet Rx (+)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 9"}),(0,o.jsx)(t.td,{children:"Ethernet Rx (-)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 12"}),(0,o.jsx)(t.td,{children:"Ethernet Tx (+)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 13"}),(0,o.jsx)(t.td,{children:"Ethernet Tx (-)"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Pin 8"}),(0,o.jsx)(t.td,{children:"DoIP Activation"})]})]})]}),"\n",(0,o.jsx)(t.h3,{id:"controlling-the-doip-port",children:"Controlling the DoIP port"}),"\n",(0,o.jsx)(t.p,{children:"From the AutoPi Core software, it is possible to control the pinout variant to be used."}),"\n",(0,o.jsx)(t.h2,{id:"using-the-doip-software",children:"Using the DoIP software"}),"\n",(0,o.jsxs)(t.p,{children:["The AutoPi DoIP integration is based on the ",(0,o.jsx)(t.a,{href:"https://github.com/autopi-io/py-udsoncan",children:"udsoncan library"}),". The integration implements all the services and helper classes from the ",(0,o.jsx)(t.a,{href:"https://udsoncan.readthedocs.io/en/latest/",children:"library"})," and thereby also support UDS."]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);