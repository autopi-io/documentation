"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[3283],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var t=s(96540);const i={},c=t.createContext(i);function o(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(c.Provider,{value:n},e.children)}},47886:(e,n,s)=>{s.d(n,{A:()=>c});s(96540);var t=s(74848);const i={mini:{name:"Mini",image:"/img/hardware/autopi_mini/AutoPi_Mini_5_Top_right.png"},cm4:{name:"TMU CM4",image:"/img/hardware/autopi_tmu_cm4/TMU_Floating_Topside_V1_scaled.png"},pro:{name:"CAN-FD Pro",image:"/img/hardware/autopi_canfd_pro/canfd_pro_trans.png"}};function c(e){let{supported:n}=e;return n?.length?(0,t.jsxs)("div",{style:{padding:"1rem",marginBottom:"1.5rem"},children:[(0,t.jsx)("strong",{children:"This guide is applicable to the following device/ devices:"}),(0,t.jsx)("div",{style:{display:"flex",gap:"1.5rem",marginTop:"0.5rem"},children:n.map((e=>{const n=i[e];return(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("img",{src:n.image,alt:n.name,style:{height:"60px",marginBottom:"0.25rem"}}),(0,t.jsx)("div",{children:n.name})]},e)}))})]}):null}},58162:(e,n,s)=>{s.d(n,{A:()=>o});s(96540);const t="homeGrid_MM9h",i="cardGrid_IPp8";var c=s(74848);const o=e=>{let{children:n,home:s=!1}=e;return(0,c.jsx)("div",{className:s?t:i,children:n})}},89432:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"cloud/device_management/nested-customers","title":"Nested Customers","description":"---","source":"@site/docs/cloud/device_management/nested_customers.md","sourceDirName":"cloud/device_management","slug":"/cloud/device_management/nested-customers","permalink":"/cloud/device_management/nested-customers","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/cloud/device_management/nested_customers.md","tags":[],"version":"current","frontMatter":{"id":"nested-customers","title":"Nested Customers","supportedDevices":["mini","cm4","pro"]},"sidebar":"sidebar","previous":{"title":"Geofences","permalink":"/cloud/device_management/geofences"},"next":{"title":"Templates","permalink":"/cloud/device_management/templates"}}');var i=s(74848),c=s(28453),o=(s(58162),s(47886));const r={id:"nested-customers",title:"Nested Customers",supportedDevices:["mini","cm4","pro"]},a=void 0,d={},l=[{value:"Managing Nested Customers",id:"managing-nested-customers",level:2},{value:"Create a Nested Customer",id:"create-a-nested-customer",level:4},{value:"Assign Some Devices to the New Customer",id:"assign-some-devices-to-the-new-customer",level:4},{value:"Create an Administrator User On the New Account",id:"create-an-administrator-user-on-the-new-account",level:4}];function u(e){const n={code:"code",h2:"h2",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{supported:r.supportedDevices}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"The account section allows an account administrator to manage nested customers,\nwhich makes it possible to create an isolated account, assign devices and users\nto it, so that a customer can manage a fleet of devices, and it's own users."}),"\n",(0,i.jsx)(n.p,{children:"It makes it possible to have a structure like this."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Customer\n    users:\n        |_ user admin\n    accounts:\n        |_ nested customer A\n            users:\n                |_ user A\n        |_ nested customer B\n            users:\n                |_ user B\n"})}),"\n",(0,i.jsx)(n.p,{children:"The permissions model follows a top down approach, and only in that direction,\nthis means that any users created on the nested customers, will only ever be\nable to see the devices directly associated to that account, at most, ie. full\ndevice access for a user on a nested account will see only the devices actually\nassociated to the account, and not devices from the parent account / top account."}),"\n",(0,i.jsxs)(n.p,{children:["So in the example above, ",(0,i.jsx)(n.code,{children:"user A"})," can only see devices in the ",(0,i.jsx)(n.code,{children:"nested customer A"}),"\naccount, and the same for ",(0,i.jsx)(n.code,{children:"user B"}),", but the ",(0,i.jsx)(n.code,{children:"admin"})," user can see devices from both\nthe top account, and any nested customers."]}),"\n",(0,i.jsx)(n.h2,{id:"managing-nested-customers",children:"Managing Nested Customers"}),"\n",(0,i.jsx)(n.p,{children:"The typical steps are"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create a nested customer"}),"\n",(0,i.jsx)(n.li,{children:"Assign some devices to the new customer"}),"\n",(0,i.jsx)(n.li,{children:"Create an administrator user on the new account"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["All interaction with this happens in the ",(0,i.jsx)(n.code,{children:"Account"})," page."]}),"\n",(0,i.jsx)(n.h4,{id:"create-a-nested-customer",children:"Create a Nested Customer"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.code,{children:"Customers"})," tab"]}),"\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.code,{children:"Create"})," button"]}),"\n",(0,i.jsxs)(n.li,{children:["Fill out the settings and click ",(0,i.jsx)(n.code,{children:"Create"})]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"assign-some-devices-to-the-new-customer",children:"Assign Some Devices to the New Customer"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.code,{children:"Devices"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.code,{children:"Manage devices"})]}),"\n",(0,i.jsx)(n.li,{children:"Click the newly created customer"}),"\n",(0,i.jsxs)(n.li,{children:["Now select one or more devices in the dropdown, or toggle the mode below the\ndropdown to input the ",(0,i.jsx)(n.code,{children:"unit id"})," or ",(0,i.jsx)(n.code,{children:"device ids"})]}),"\n",(0,i.jsxs)(n.li,{children:["Now click ",(0,i.jsx)(n.code,{children:"Process"})]}),"\n",(0,i.jsx)(n.li,{children:"The devices are now re-assigned to the new customer"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"create-an-administrator-user-on-the-new-account",children:"Create an Administrator User On the New Account"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Now click the ",(0,i.jsx)(n.code,{children:"Customers"})," tab"]}),"\n",(0,i.jsx)(n.li,{children:"Click the customer that was created"}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.code,{children:"Users"})," to manage the users for the customer"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.code,{children:"Create"})]}),"\n",(0,i.jsxs)(n.li,{children:["Now create a new user, and remember to set the account to have\n",(0,i.jsx)(n.code,{children:"Account Administration"})," rights, this will make the user have access to the\nassigned devices, and also to manage the users on the customer."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You should now have a nested customer with some devices associated, and a user."})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);