"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[489],{3220:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/trip_demo_example_1-63e96801a402a7bcb1a335ceb6d461a2.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},77066:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"cloud/fleet_management/vehicles/trips/introduction","title":"Introduction","description":"The Trips section provides in-depth information about the vehicle\'s trips.","source":"@site/docs/cloud/fleet_management/vehicles/trips/index.md","sourceDirName":"cloud/fleet_management/vehicles/trips","slug":"/cloud/fleet_management/vehicles/trips/","permalink":"/cloud/fleet_management/vehicles/trips/","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/cloud/fleet_management/vehicles/trips/index.md","tags":[],"version":"current","frontMatter":{"id":"introduction","title":"Introduction"},"sidebar":"sidebar","previous":{"title":"Groups","permalink":"/cloud/fleet_management/vehicles/fleet-groups"},"next":{"title":"Automatic Exports","permalink":"/cloud/fleet_management/vehicles/trips/automatic-exports"}}');var s=t(74848),r=t(28453);const o={id:"introduction",title:"Introduction"},l=void 0,c={},a=[{value:"Trip Generation",id:"trip-generation",level:2},{value:"On Start Trip Event (Default: <code>vehicle/engine/running</code>)",id:"on-start-trip-event-default-vehicleenginerunning",level:4},{value:"On Stop Trip Event (Default: <code>vehicle/engine/not_running</code>|<code>vehicle/engine/stopped</code>)",id:"on-stop-trip-event-default-vehicleenginenot_runningvehicleenginestopped",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The Trips section provides in-depth information about the vehicle's trips.\nTrips are automatically detected based on the events sent from the device, by default the\n",(0,s.jsx)(n.a,{href:"/cloud/device_management/events/cloud-events-vehicle#engine-events",children:"engine events"})," are used, these can be customized in the\n",(0,s.jsx)(n.a,{href:"/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud-config-trip#event",children:"advanced settings"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"This will display the trip route on a map along with the starting and ending addresses, duration, and distance travelled.\nAdditionally, you can review events that occurred during each trip, such as 'engine running/stopped' and 'position moving/standstill'\nand filter trips based on the desired date range.\nYou also have the option to categorize trips as either personal or business and, if necessary, export trip data.\""}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Trip example",src:t(3220).A+"",width:"1712",height:"1072"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["You can check the events page on ",(0,s.jsx)(n.a,{href:"https://my.autopi.io",children:"my.autopi.io"})," to see all events logged from your device. When troubleshooting it is one of the first places to check if you are unsure why something happened. By looking at the events you can usually get a really good idea about why the device did something."]})}),"\n",(0,s.jsx)(n.h2,{id:"trip-generation",children:"Trip Generation"}),"\n",(0,s.jsx)(n.p,{children:"When the server receives the start|stop trip events it will do the following."}),"\n",(0,s.jsxs)(n.h4,{id:"on-start-trip-event-default-vehicleenginerunning",children:["On Start Trip Event (Default: ",(0,s.jsx)(n.code,{children:"vehicle/engine/running"}),")"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If closed trip exists, the end time will be checked:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If older than N minutes (default: 10), a new trip will be created, with the start_time set to the timestamp of the event."}),"\n",(0,s.jsx)(n.li,{children:"If not older than N minutes, it will not create a new trip."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["OR: If open trip exists, the start time will be checked:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If older than N minutes, a new trip will be created."}),"\n",(0,s.jsx)(n.li,{children:"If not older than N minutes, it will ignore the event, and just keep using the trip from before."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"on-stop-trip-event-default-vehicleenginenot_runningvehicleenginestopped",children:["On Stop Trip Event (Default: ",(0,s.jsx)(n.code,{children:"vehicle/engine/not_running"}),"|",(0,s.jsx)(n.code,{children:"vehicle/engine/stopped"}),")"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Check if a trip is currently in progress using the timestamp of the event.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If it can find one, it will close it."}),"\n",(0,s.jsx)(n.li,{children:"If it can't find one, the event will be ignored."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This means that a typical trip generation lifecycle can look like this"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Trip is created"}),"\n",(0,s.jsx)(n.li,{children:"Data is logged"}),"\n",(0,s.jsx)(n.li,{children:"Trip is closed"}),"\n",(0,s.jsx)(n.li,{children:"Trip is reopened if new event is within 10 minutes of the last trip close event."}),"\n",(0,s.jsx)(n.li,{children:"More data is logged"}),"\n",(0,s.jsx)(n.li,{children:"Trip is closed"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["For EV's it's possible to set up new events so that the trip generation works as expected.\nSee more here: ",(0,s.jsx)(n.a,{href:"/getting_started/electric_vehicles/power-cycle-for-electric-vehicles/",children:"Setup power cycle for an electric vehicle"})]})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.a,{href:"https://www.autopi.io",children:"AutoPi"})," ",(0,s.jsx)(n.a,{href:"https://www.autopi.io/hardware/autopi-mini",children:"Mini"}),", the start/stop trip events are ",(0,s.jsx)(n.code,{children:"trip/start"})," and ",(0,s.jsx)(n.code,{children:"trip/stop"})]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);