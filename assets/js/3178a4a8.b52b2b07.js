"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[2526],{12719:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/create_custom_returner-64c4c4b4262e4f10a572d9db5ef51d2e.png"},24945:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/favicon-7dbd17fbde1c59c10c74d100e88248c4.ico"},28453:(e,t,r)=>{r.d(t,{R:()=>c,x:()=>i});var s=r(96540);const n={},o=s.createContext(n);function c(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(o.Provider,{value:t},e.children)}},28716:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/register_custom_returner_hook-cb7d9f599fc54cdf697ccf0808432170.png"},41092:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/support_icon-9d734923a944c5b17019c3da8704fec7.png"},49389:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"cloud/device_management/services/create-custom-returners","title":"Create Custom Returners","description":"In this guide we redirect accelerometer data to a file on disk, but the functionality is general,","source":"@site/docs/cloud/device_management/services/create_custom_returners.md","sourceDirName":"cloud/device_management/services","slug":"/cloud/device_management/services/create-custom-returners","permalink":"/cloud/device_management/services/create-custom-returners","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/cloud/device_management/services/create_custom_returners.md","tags":[],"version":"current","frontMatter":{"id":"create-custom-returners","title":"Create Custom Returners"},"sidebar":"sidebar","previous":{"title":"Introduction","permalink":"/cloud/device_management/services/"},"next":{"title":"Create Custom Services","permalink":"/cloud/device_management/services/create-custom-services"}}');var n=r(74848),o=r(28453),c=r(58162);const i={id:"create-custom-returners",title:"Create Custom Returners"},a=void 0,d={},l=[{value:"Let&#39;s keep in touch!",id:"lets-keep-in-touch",level:3}];function u(e){const t={a:"a",code:"code",em:"em",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"In this guide we redirect accelerometer data to a file on disk, but the functionality is general,\nand the procedure can also be used for OBD data, GPS data and others."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Start by creating a custom code module of type ",(0,n.jsx)(t.em,{children:"Returner"}),". Go to ",(0,n.jsx)(t.strong,{children:"Device"})," > ",(0,n.jsx)(t.strong,{children:"Custom Code"}),":"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Create custom returner",src:r(12719).A+"",width:"1516",height:"1085"})}),"\n",(0,n.jsxs)(t.p,{children:["This default returner implementation will append results to a file on disk located at\n",(0,n.jsx)(t.code,{children:"/tmp/returner_data.txt"}),". But in reality, it's possible to integrate with any storage system here."]}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsxs)(t.li,{children:["For the accelerometer service named ",(0,n.jsx)(t.strong,{children:"acc_manager"})," register the created custom returner as a\nhook so it can be used in worker workflows. Go to ",(0,n.jsx)(t.strong,{children:"Device"})," > ",(0,n.jsx)(t.strong,{children:"Services"})," > ",(0,n.jsx)(t.strong,{children:"acc_manager"})," >\n",(0,n.jsx)(t.strong,{children:"Hooks"})," > ",(0,n.jsx)(t.strong,{children:"Create"}),":"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Register custom returner hook",src:r(28716).A+"",width:"1521",height:"634"})}),"\n",(0,n.jsxs)(t.ol,{start:"3",children:["\n",(0,n.jsxs)(t.li,{children:["Next, we have to use the registered hook by editing the workflow for the ",(0,n.jsx)(t.strong,{children:"xyz_logger"})," worker.\nGo to ",(0,n.jsx)(t.strong,{children:"Device"})," > ",(0,n.jsx)(t.strong,{children:"Services"})," > ",(0,n.jsx)(t.strong,{children:"acc_manager"})," > ",(0,n.jsx)(t.strong,{children:"Workers"})," > ",(0,n.jsx)(t.strong,{children:"xyz_logger"}),". Here we have\nto change the returner from ",(0,n.jsx)(t.em,{children:"cloud"})," to ",(0,n.jsx)(t.em,{children:"my_returner"}),":"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Use custom returner in workflow",src:r(50924).A+"",width:"1478",height:"776"})}),"\n",(0,n.jsx)(t.p,{children:"When above changes have been successfully synchronised to the device, it will start logging\naccelerometer data to the specified file."}),"\n",(0,n.jsx)(t.p,{children:"When logged onto the device using SSH, it is possible to monitor the data in realtime with the\ncommand:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.code,{children:"tail -f /tmp/returner_data.txt"})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(t.h3,{id:"lets-keep-in-touch",children:"Let's keep in touch!"}),"\n",(0,n.jsx)(t.p,{children:"Thank you for choosing AutoPi. We're excited to see what you will achieve with your AutoPi device!"}),"\n",(0,n.jsxs)(c.A,{home:!0,children:[(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.a,{href:"https://www.autopi.io/contact/",children:[(0,n.jsx)(t.img,{src:r(24945).A+"",width:"16",height:"16"})," ",(0,n.jsx)(t.strong,{children:"Contact our sales team"})," You can build on top of AutoPi."]})}),(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.a,{href:"https://www.autopi.io/support/",children:[(0,n.jsx)(t.img,{src:r(41092).A+"",width:"512",height:"512"})," ",(0,n.jsx)(t.strong,{children:"Get help from our support team"})," Let us know about your technical questions."]})})]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},50924:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/use_custom_returner_in_workflow-da0d785b567eb92d32651fcd39c88ced.png"},58162:(e,t,r)=>{r.d(t,{A:()=>c});r(96540);const s="homeGrid_MM9h",n="cardGrid_IPp8";var o=r(74848);const c=e=>{let{children:t,home:r=!1}=e;return(0,o.jsx)("div",{className:r?s:n,children:t})}}}]);