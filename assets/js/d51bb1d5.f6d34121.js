(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{154:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return p})),a.d(t,"metadata",(function(){return b})),a.d(t,"toc",(function(){return d})),a.d(t,"default",(function(){return O}));var n,r=a(3),l=a(7),o=a(0),i=a(156);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var m=function(e){var t=e.title,a=e.titleId,r=s(e,["title","titleId"]);return o.createElement("svg",c({width:"293pt",height:"260pt",viewBox:"0 0 293 260",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},r),t?o.createElement("title",{id:a},t):null,n||(n=o.createElement("g",{className:"states_svg__graph",transform:"translate(4 256)"},o.createElement("path",{fill:"#fff",stroke:"#fff",d:"M-4 5v-261h294V5H-4z"}),o.createElement("g",{className:"states_svg__node"},o.createElement("ellipse",{fill:"none",stroke:"#000",cx:159,cy:-234,rx:28.616,ry:18}),o.createElement("text",{textAnchor:"middle",x:159,y:-229.8,fontFamily:"Times,serif",fontSize:14},o.createElement("a",null,"OFF"))),o.createElement("g",{className:"states_svg__node"},o.createElement("ellipse",{fill:"none",stroke:"#000",cx:159,cy:-162,rx:54.215,ry:18}),o.createElement("text",{textAnchor:"middle",x:159,y:-157.8,fontFamily:"Times,serif",fontSize:14},o.createElement("a",null,"BOOTING"))),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M153.122-216.055c-.818 7.709-1.061 17.028-.727 25.691"}),o.createElement("path",{stroke:"#000",d:"M155.894-190.491l-2.807 10.216-4.176-9.737 6.983-.479z"})),o.createElement("g",{className:"states_svg__node"},o.createElement("ellipse",{fill:"none",stroke:"#000",cx:77,cy:-18,rx:77.003,ry:18}),o.createElement("text",{textAnchor:"middle",x:77,y:-13.8,fontFamily:"Times,serif",fontSize:14},o.createElement("a",null,"HIBERNATING"))),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M138.377-221.459C123.962-212.218 105.631-197.866 96-180 73.102-137.525 72.352-79.732 74.355-46.188"}),o.createElement("path",{stroke:"#000",d:"M77.847-46.426L75.077-36.2l-4.212-9.721 6.982-.505z"})),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M164.913-180.275c.802-7.755 1.027-17.087.678-25.73"}),o.createElement("path",{stroke:"#000",d:"M162.094-205.832l2.784-10.223 4.199 9.728-6.983.495z"})),o.createElement("g",{className:"states_svg__node"},o.createElement("ellipse",{fill:"none",stroke:"#000",cx:225,cy:-90,rx:27,ry:18}),o.createElement("text",{textAnchor:"middle",x:225,y:-85.8,fontFamily:"Times,serif",fontSize:14},o.createElement("a",null,"ON"))),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M174.641-144.411l29.669 31.467"}),o.createElement("path",{stroke:"#000",d:"M206.949-115.247l4.313 9.677-9.407-4.875 5.094-4.802z"})),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M86.972-36.268l57.298-99.224"}),o.createElement("path",{stroke:"#000",d:"M141.24-137.244l8.032-6.909-1.97 10.41-6.062-3.501z"})),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M228.36-108.046c2.816-18.672 4.794-49.013-6.36-71.954-7.211-14.831-20.718-27.059-33.382-36.018"}),o.createElement("path",{stroke:"#000",d:"M186.469-213.243l-6.396-8.446 10.267 2.614-3.871 5.832z"})),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M203.48-78.821l-84.955 40.18"}),o.createElement("path",{stroke:"#000",d:"M120.013-35.472l-10.537 1.112 7.544-7.44 2.993 6.328z"})),o.createElement("g",{className:"states_svg__node"},o.createElement("ellipse",{fill:"none",stroke:"#000",cx:229,cy:-18,rx:56.443,ry:18}),o.createElement("text",{textAnchor:"middle",x:229,y:-13.8,fontFamily:"Times,serif",fontSize:14},o.createElement("a",null,"SLEEPING"))),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M225.989-71.697l1.462 25.585"}),o.createElement("path",{stroke:"#000",d:"M230.946-46.288l-2.923 10.184-4.065-9.784 6.988-.4z"})),o.createElement("g",{className:"states_svg__edge"},o.createElement("path",{fill:"none",stroke:"#000",d:"M214.167-35.714C205.89-45.702 195.89-58.952 189-72c-10.438-19.767-18.3-43.887-23.351-62.028"}),o.createElement("path",{stroke:"#000",d:"M162.2-133.376l.801-10.565 5.962 8.758-6.763 1.807z"})))))},p={id:"core-power-low",title:"Low-level"},b={unversionedId:"core/power_management/core-power-low",id:"core/power_management/core-power-low",isDocsHomePage:!1,title:"Low-level",description:"SPM",source:"@site/docs/core/power_management/low_level.md",slug:"/core/power_management/core-power-low",permalink:"/core/power_management/core-power-low",version:"current",sidebar:"coreSidebar",previous:{title:"High-level",permalink:"/core/power_management/core-power-high"},next:{title:"Introduction",permalink:"/core/returners/core-returners-intro"}},d=[{value:"SPM",id:"spm",children:[{value:"States",id:"states",children:[]}]},{value:"STN",id:"stn",children:[]}],u={toc:d};function O(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(i.a)("wrapper",Object(r.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",{id:"spm"},"SPM"),Object(i.a)("p",null,"The SPM (Smart Power Management) is an embedded system that controls the low-level power cycle of the device. It interacts with a number of subsystems that can initiate power state changes:"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"Subsystem"),Object(i.a)("th",{parentName:"tr",align:null},"Description"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"Accelerometer"),Object(i.a)("td",{parentName:"tr",align:null},"Built-in accelerometer is capable of triggering wake up based on physical movement events.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"Modem"),Object(i.a)("td",{parentName:"tr",align:null},"Installed modem module can trigger wake up on received SMS or dial up call.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#stn"},"STN")),Object(i.a)("td",{parentName:"tr",align:null},"Built-in chipset triggers power on and off based on voltage level changes.")))),Object(i.a)("p",null,"Finally the Raspberry Pi communicates directly with the SPM and performs power state changes based on more ",Object(i.a)("a",{parentName:"p",href:"/core/power_management/core-power-high"},"high-level")," decisions.  "),Object(i.a)("h3",{id:"states"},"States"),Object(i.a)("p",null,"Below diagram shows an overview of all possible SPM states and the transitions between."),Object(i.a)(m,{mdxType:"StatesSvg"}),Object(i.a)("h4",{id:"off"},"OFF"),Object(i.a)("p",null,"Everything is powered off."),Object(i.a)("h5",{id:"transitions"},"Transitions"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"State"),Object(i.a)("th",{parentName:"tr",align:null},"Condition"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#booting"},"BOOTING")),Object(i.a)("td",{parentName:"tr",align:null},"The device is plugged in.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#hibernating"},"HIBERNATING")),Object(i.a)("td",{parentName:"tr",align:null},"Maximum number of boot attempts reached. Default is 10 attempts.")))),Object(i.a)("h4",{id:"booting"},"BOOTING"),Object(i.a)("p",null,"Everything is powered on and the Raspberry Pi is booting up."),Object(i.a)("h5",{id:"transitions-1"},"Transitions"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"State"),Object(i.a)("th",{parentName:"tr",align:null},"Condition"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#on"},"ON")),Object(i.a)("td",{parentName:"tr",align:null},"Successfully communicated with the Raspberry Pi.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#off"},"OFF")),Object(i.a)("td",{parentName:"tr",align:null},"No communication with the Raspberry Pi within a given time limit. Default boot timeout is 10 minutes.")))),Object(i.a)("h4",{id:"on"},"ON"),Object(i.a)("p",null,"Everything is powered on and there is regular communication with the Raspberry Pi."),Object(i.a)("h5",{id:"transitions-2"},"Transitions"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"State"),Object(i.a)("th",{parentName:"tr",align:null},"Condition"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#sleeping"},"SLEEPING")),Object(i.a)("td",{parentName:"tr",align:null},"The Raspberry Pi decided to sleep for a given period of time.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#hibernating"},"HIBERNATING")),Object(i.a)("td",{parentName:"tr",align:null},"The Raspberry Pi decided to hibernate or the STN chip powered off according to its triggers.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#off"},"OFF")),Object(i.a)("td",{parentName:"tr",align:null},"No communication with the Raspberry Pi within a given time limit. Default heartbeat timeout is 3 minutes.")))),Object(i.a)("h4",{id:"sleeping"},"SLEEPING"),Object(i.a)("p",null,"The Raspberry Pi is powered off. Modem and GPS is kept on in low power mode."),Object(i.a)("p",null,"Wake up will happen after a specified period of sleep time or earlier if:"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},"STN is powered on."),Object(i.a)("li",{parentName:"ul"},"Received wake signal from modem."),Object(i.a)("li",{parentName:"ul"},"Received wake signal from accelerometer.")),Object(i.a)("h5",{id:"transitions-3"},"Transitions"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"State"),Object(i.a)("th",{parentName:"tr",align:null},"Condition"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#booting"},"BOOTING")),Object(i.a)("td",{parentName:"tr",align:null},"See the above criteria.")))),Object(i.a)("h4",{id:"hibernating"},"HIBERNATING"),Object(i.a)("p",null,"Everything is shut down for maximum power saving."),Object(i.a)("h5",{id:"transitions-4"},"Transitions"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"State"),Object(i.a)("th",{parentName:"tr",align:null},"Condition"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},Object(i.a)("a",{parentName:"td",href:"#booting"},"BOOTING")),Object(i.a)("td",{parentName:"tr",align:null},"The STN powers on (when transitions from off to on).")))),Object(i.a)("h2",{id:"stn"},"STN"),Object(i.a)("p",null,"See the STN command for available power trigger options ",Object(i.a)("a",{parentName:"p",href:"/core/commands/core-commands-stn"},"here"),"."))}O.isMDXComponent=!0},156:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=r.a.createContext({}),m=function(e){var t=r.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),b=m(a),d=n,u=b["".concat(o,".").concat(d)]||b[d]||p[d]||l;return a?r.a.createElement(u,i(i({ref:t},s),{},{components:a})):r.a.createElement(u,i({ref:t},s))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var s=2;s<l;s++)o[s]=a[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);