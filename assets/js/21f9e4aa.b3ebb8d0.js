"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[3590],{12219:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"developer_guides/local-development-workflow","title":"Local Development Workflow","description":"---","source":"@site/docs/developer_guides/local_development_workflow.mdx","sourceDirName":"developer_guides","slug":"/developer_guides/local-development-workflow","permalink":"/developer_guides/local-development-workflow","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/developer_guides/local_development_workflow.mdx","tags":[],"version":"current","frontMatter":{"id":"local-development-workflow","title":"Local Development Workflow","supportedDevices":["cm4","pro","pro_case"]},"sidebar":"sidebar","previous":{"title":"How to SSH to Your Device","permalink":"/developer_guides/how-to-ssh-to-your-device"},"next":{"title":"Reflashing Your Device","permalink":"/developer_guides/reflashing-your-device"}}');var i=t(74848),r=t(28453),s=(t(58162),t(47886));const l={id:"local-development-workflow",title:"Local Development Workflow",supportedDevices:["cm4","pro","pro_case"]},a=void 0,d={},c=[{value:"Development on RPI With Screen and Keyboard or SSH",id:"development-on-rpi-with-screen-and-keyboard-or-ssh",level:2},{value:"Remote Development on Dev Machine",id:"remote-development-on-dev-machine",level:2}];function h(e){const o={a:"a",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{supported:l.supportedDevices}),"\n",(0,i.jsx)(o.hr,{}),"\n",(0,i.jsxs)(o.p,{children:["When doing development with the ",(0,i.jsx)(o.a,{href:"https://www.autopi.io",children:"AutoPi"}),", it is possible to do it all through the ",(0,i.jsx)(o.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"}),"."]}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsx)(o.li,{children:"Make changes"}),"\n",(0,i.jsx)(o.li,{children:"Push changes to device"}),"\n",(0,i.jsx)(o.li,{children:"Restart services"}),"\n",(0,i.jsx)(o.li,{children:"Execute module"}),"\n",(0,i.jsx)(o.li,{children:"Go to step 1"}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["But while this process can be used, it is much too slow for actual development. So the ",(0,i.jsx)(o.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"})," should\nbe used for management and to push out code when the development has finished, and not in the\nactual development workflow."]}),"\n",(0,i.jsx)(o.p,{children:"Fortunately, there are other much faster alternatives, here are a few ways to do it."}),"\n",(0,i.jsx)(o.h2,{id:"development-on-rpi-with-screen-and-keyboard-or-ssh",children:"Development on RPI With Screen and Keyboard or SSH"}),"\n",(0,i.jsxs)(o.p,{children:["You could instead SSH into the device and edit the files directly. When syncing from the ",(0,i.jsx)(o.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"}),",\nthe modules will be put in the following directories, based on the type:"]}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"/opt/autopi/salt/modules"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"/opt/autopi/salt/returners"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"/opt/autopi/salt/utils"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"/opt/autopi/salt/engines"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"/opt/autopi/salt/states"})}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["So you can simply edit/create the files directly, but make sure to avoid clashes with the ",(0,i.jsx)(o.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"}),"\nsynced modules, to prevent losing work if you sync the module from the ",(0,i.jsx)(o.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"}),", as that will, without\nasking, overwrite the file on the device, even if you have made local changes to it."]}),"\n",(0,i.jsxs)(o.p,{children:["When you make changes to the files, to make sure that the minion process picks up on the change,\nthis is done by restarting the service, this can be done with ",(0,i.jsx)(o.code,{children:"minionutil.restart"}),". Some changes can be reloaded with ",(0,i.jsx)(o.code,{children:"saltutil.refresh_modules"}),", but it's generally more safe to restart the minion service instead. To ensure all code is reloaded."]}),"\n",(0,i.jsx)(o.h2,{id:"remote-development-on-dev-machine",children:"Remote Development on Dev Machine"}),"\n",(0,i.jsxs)(o.p,{children:["Alternatively, another workflow can be to have a script on your development machine that copies\nthe files to the device via ",(0,i.jsx)(o.a,{href:"https://www.computerhope.com/unix/scp.htm",children:(0,i.jsx)(o.code,{children:"scp"})}),", that way you can\nmake the changes in your favorite editor. Remember to have the script also either restart the\nminion service with ",(0,i.jsx)(o.code,{children:"minionutil.restart"})," or run the ",(0,i.jsx)(o.code,{children:"saltutil.refresh_modules"})," command as noted above. Doing development on the local\nmachine is preferable for many, and is also the way we do development in office as it has the\nbenefit of the above solution, but also allows the user to be as productive as possible by in their\npreferred development environment."]}),"\n",(0,i.jsx)(o.p,{children:"We hope this helps you get started developing with our device and platform."}),"\n",(0,i.jsxs)(o.p,{children:["Remember that we also offer additional more in-depth paid support to get you started with your\nproject: ",(0,i.jsx)(o.a,{href:"https://shop.autopi.io/products/development-voucher",children:"Development voucher"}),"."]})]})}function p(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,o,t)=>{t.d(o,{R:()=>s,x:()=>l});var n=t(96540);const i={},r=n.createContext(i);function s(e){const o=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(r.Provider,{value:o},e.children)}},47886:(e,o,t)=>{t.d(o,{A:()=>r});t(96540);var n=t(74848);const i={mini:{name:"Mini",image:"/img/hardware/autopi_mini/AutoPi_Mini_5_Top_right.png"},cm4:{name:"TMU CM4",image:"/img/hardware/shared_devices/autopi_cm4_device_look.webp"},pro:{name:"CAN-FD Pro",image:"/img/hardware/autopi_canfd_pro/canfd_pro_trans.png"},pro_case:{name:"CAN-FD Pro +IP67 casing",image:"/img/hardware/shared_devices/autopi_canfd_pro_casing_obdcable.png"}};function r(e){let{supported:o}=e;return o?.length?(0,n.jsxs)("div",{style:{padding:"1rem",marginBottom:"1.5rem"},children:[(0,n.jsx)("strong",{children:"This guide is applicable to the following device / devices:"}),(0,n.jsx)("div",{style:{display:"flex",gap:"1.5rem",marginTop:"0.75rem"},children:o.map((e=>{const o=i[e];return(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)("img",{src:o.image,alt:o.name,style:{height:"60px",marginBottom:"0.5rem",display:"block",marginLeft:"auto",marginRight:"auto"}}),(0,n.jsx)("div",{children:o.name})]},e)}))})]}):null}},58162:(e,o,t)=>{t.d(o,{A:()=>s});t(96540);const n="homeGrid_MM9h",i="cardGrid_IPp8";var r=t(74848);const s=e=>{let{children:o,home:t=!1}=e;return(0,r.jsx)("div",{className:t?n:i,children:o})}}}]);