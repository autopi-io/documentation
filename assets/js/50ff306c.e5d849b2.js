"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[5648],{26370:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"developer_guides/local-api","title":"Local API","description":"Overview","source":"@site/docs/developer_guides/local_api.md","sourceDirName":"developer_guides","slug":"/developer_guides/local-api","permalink":"/developer_guides/local-api","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/developer_guides/local_api.md","tags":[],"version":"current","frontMatter":{"id":"local-api","title":"Local API"},"sidebar":"sidebar","previous":{"title":"AutoPi Logs","permalink":"/developer_guides/autopi-logs"},"next":{"title":"Setting Up Docker on Your Device","permalink":"/developer_guides/setting-up-docker"}}');var i=t(74848),c=t(28453);const l={id:"local-api",title:"Local API"},r=void 0,a={},d=[{value:"Overview",id:"overview",level:2},{value:"Running commands through the local API on the device",id:"running-commands-through-the-local-api-on-the-device",level:3}];function s(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["The local configuration tool available through ",(0,i.jsx)(n.code,{children:"local.autopi.io"})," (when connected to the device hotspot), is using a local webserver on the device to manage the configuration."]}),"\n",(0,i.jsx)(n.h3,{id:"running-commands-through-the-local-api-on-the-device",children:"Running commands through the local API on the device"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST localhost:9000/dongle/<uuid:unit_id>/execute/\n"})}),"\n",(0,i.jsx)(n.p,{children:"The body should be the same as the above remote command endpoint."}),"\n",(0,i.jsx)(n.p,{children:"The unit_id can be retrieved one of the following ways"}),"\n",(0,i.jsx)(n.p,{children:"A.\tCalling the root route"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET localhost:9000\n"})}),"\n",(0,i.jsx)(n.p,{children:"B.\tReading it from the file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/etc/salt/minion_id\n"})}),"\n",(0,i.jsx)(n.p,{children:"The reason that you need the unit_id is because we need to make sure that the request is actually meant for that specific device when using the endpoint from another connected device, like when using the local configuration tool."})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(s,{...e})}):s(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var o=t(96540);const i={},c=o.createContext(i);function l(e){const n=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),o.createElement(c.Provider,{value:n},e.children)}}}]);