"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[4925],{12752:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/keyfob_cloud4-4cb783230c61c41905bb1b3f59f35efd.jpg"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var o=t(96540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}},47907:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/keyfob_cloud3-92c5aaf27e7e412b3a8e50a935a81ed4.jpg"},57798:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/keyfob_cloud2-0269ba195e2a3ccf65657f595f2e4ad6.jpg"},58162:(e,n,t)=>{t.d(n,{A:()=>r});t(96540);const o="homeGrid_MM9h",i="cardGrid_IPp8";var s=t(74848);const r=e=>{let{children:n,home:t=!1}=e;return(0,s.jsx)("div",{className:t?o:i,children:n})}},90001:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/keyfob_cloud1-b0c634dcebd4c763975fb2152f23e3c4.jpg"},94291:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"hardware/accessories/keyfob-hat/keyfob-cloud-configuration","title":"Keyfob Cloud Configuration","description":"The keyless entry solution described in this guide is only compatible with the AutoPi TMU CM4 and newer editions.","source":"@site/docs/hardware/accessories/keyfob-hat/keyfob-cloud-configuration.md","sourceDirName":"hardware/accessories/keyfob-hat","slug":"/hardware/accessories/keyfob-hat/keyfob-cloud-configuration","permalink":"/hardware/accessories/keyfob-hat/keyfob-cloud-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/hardware/accessories/keyfob-hat/keyfob-cloud-configuration.md","tags":[],"version":"current","frontMatter":{"id":"keyfob-cloud-configuration","title":"Keyfob Cloud Configuration"},"sidebar":"sidebar","previous":{"title":"Keyfob HAT Pinout","permalink":"/hardware/accessories/keyfob-hat/keyfob-hat-pinout"},"next":{"title":"Device Mounts","permalink":"/hardware/accessories/device_mounts"}}');var i=t(74848),s=t(28453);t(29030),t(58162);const r={id:"keyfob-cloud-configuration",title:"Keyfob Cloud Configuration"},c=void 0,a={},d=[{value:"Step-by-Step Guide",id:"step-by-step-guide",level:2},{value:"Step 1 \u2013 Hardware Connection",id:"step-1--hardware-connection",level:3},{value:"Step 2 \u2013 Access Cloud Settings",id:"step-2--access-cloud-settings",level:3},{value:"Step 3 \u2013 Enable and Configure the Keyfob",id:"step-3--enable-and-configure-the-keyfob",level:3},{value:"Step 4 \u2013 Power Up the Keyfob",id:"step-4--power-up-the-keyfob",level:3},{value:"Step 5 \u2013 Lock and Unlock the Vehicle",id:"step-5--lock-and-unlock-the-vehicle",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting and Support",id:"troubleshooting-and-support",level:2}];function l(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{title:"Before proceeding with the install",type:"caution",children:(0,i.jsxs)(n.p,{children:["The keyless entry solution described in this guide is ",(0,i.jsx)(n.strong,{children:"only compatible"})," with the ",(0,i.jsx)(n.a,{href:"https://www.autopi.io",children:"AutoPi"})," ",(0,i.jsx)(n.a,{href:"https://www.autopi.io/hardware/autopi-tmu-cm4",children:"TMU CM4"})," and newer editions.",(0,i.jsx)(n.br,{}),"\n","Earlier AutoPi models do not provide the required hardware interfaces or software support and will not function with the keyfob HAT."]})}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prerequisites"})," before starting:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The keyfob HAT has been securely installed in your AutoPi TMU CM4 device."}),"\n",(0,i.jsx)(n.li,{children:"The keyfob has been correctly soldered to the wires in the extension casing. Ensure that solder joints are solid and free from shorts."}),"\n",(0,i.jsxs)(n.li,{children:["You have a working AutoPi Cloud account at ",(0,i.jsx)(n.a,{href:"https://my.autopi.io/",children:"my.autopi.io"})," with your device already registered."]}),"\n",(0,i.jsx)(n.li,{children:"Your device is powered, connected to the internet, and synchronized with the AutoPi Cloud."}),"\n"]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-by-step-guide",children:"Step-by-Step Guide"}),"\n",(0,i.jsx)(n.h3,{id:"step-1--hardware-connection",children:"Step 1 \u2013 Hardware Connection"}),"\n",(0,i.jsxs)(n.p,{children:["Begin by connecting the keyfob casing to the correct port on your AutoPi device. The keyfob must always be connected to ",(0,i.jsx)(n.strong,{children:"CONN2"}),", as shown below:"]}),"\n",(0,i.jsx)("p",{align:"center",children:(0,i.jsx)("img",{src:"/img/hardware/accessories/keyfob/keyfob_to_autopi.png",alt:"Keyfob HAT connection",width:"40%"})}),"\n",(0,i.jsxs)(n.p,{children:["Make sure that the red wire (power) is connected to ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"Vcc3v3_switched"})}),". This is critical, as the keyfob is designed to operate on a 3.3V switched power source. Supplying the wrong voltage, or connecting to a continuous supply, can damage the HAT or prevent correct operation."]}),"\n",(0,i.jsx)(n.p,{children:"Check all wiring carefully:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Red wire"})," \u2192 ",(0,i.jsx)(n.code,{children:"Vcc3v3_switched"})," (power)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Black wire"})," \u2192 GND"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Signal wires"})," \u2192 Corresponding button outputs"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Proper cable management is also recommended to avoid strain or accidental disconnection inside the extension casing."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-2--access-cloud-settings",children:"Step 2 \u2013 Access Cloud Settings"}),"\n",(0,i.jsx)(n.p,{children:"Next, configure the keyfob through the AutoPi Cloud platform."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in at ",(0,i.jsx)(n.a,{href:"https://my.autopi.io/",children:"my.autopi.io"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Navigate to your device and open the ",(0,i.jsx)(n.strong,{children:"Advanced Settings"})," section."]}),"\n",(0,i.jsxs)(n.li,{children:["Locate the ",(0,i.jsx)(n.strong,{children:"Keyfob Tab"}),". If the tab is not visible, contact ",(0,i.jsx)(n.a,{href:"mailto:support@autopi.io",children:"support@autopi.io"})," to have it enabled."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Step 2",src:t(90001).A+"",width:"1200",height:"820"})}),"\n",(0,i.jsx)(n.p,{children:"The Keyfob Tab provides the configuration options needed to activate the HAT and define button mappings. Without this configuration, the AutoPi device cannot interpret or forward keyfob button actions to your vehicle."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-3--enable-and-configure-the-keyfob",children:"Step 3 \u2013 Enable and Configure the Keyfob"}),"\n",(0,i.jsx)(n.p,{children:"Once inside the Keyfob Tab:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Enable the keyfob feature by pressing the ",(0,i.jsx)(n.strong,{children:"Enable"})," button."]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.strong,{children:"EXT2"})," as the output port. This assigns the communication channel used to interact with the HAT."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["After enabling, press the ",(0,i.jsx)(n.strong,{children:"Reset"})," button under the ",(0,i.jsx)(n.em,{children:"Buttons"})," section. This action will generate a default list of button mappings. These mappings represent the raw signals detected from your soldered wires."]}),"\n",(0,i.jsx)(n.p,{children:'You must now map each signal to the correct button function, depending on how the keyfob has been wired. For example, a button connected to a green wire may correspond to "Lock," while another connected to a yellow wire may represent "Unlock."'}),"\n",(0,i.jsxs)(n.p,{children:["Carefully record your configuration so that the same mapping can be reused later if the device is reset or updated. It is good practice to name buttons clearly, using functional terms such as ",(0,i.jsx)(n.code,{children:"lock"}),", ",(0,i.jsx)(n.code,{children:"unlock"}),", ",(0,i.jsx)(n.code,{children:"trunk"}),", or ",(0,i.jsx)(n.code,{children:"lights"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Step 3",src:t(57798).A+"",width:"1436",height:"660"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-4--power-up-the-keyfob",children:"Step 4 \u2013 Power Up the Keyfob"}),"\n",(0,i.jsx)(n.p,{children:"Before the keyfob can be used, you must explicitly power it on. The keyfob HAT does not receive constant power to prevent unnecessary drain on the device."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Run the ",(0,i.jsx)(n.a,{href:"/core/commands/core-commands-keyfob/#keyfobpower",children:(0,i.jsx)(n.code,{children:"keyfob.power"})})," command from the AutoPi Cloud."]}),"\n",(0,i.jsx)(n.li,{children:"Verify that the device is online and has a stable internet connection."}),"\n",(0,i.jsxs)(n.li,{children:["Open the ",(0,i.jsx)(n.strong,{children:"Live Terminal"})," to interact with the device in real time."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Step 4",src:t(47907).A+"",width:"1112",height:"561"})}),"\n",(0,i.jsx)(n.p,{children:"If power is not enabled, none of the keyfob actions will execute. You may also configure power to be enabled automatically on startup if frequent use is required."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-5--lock-and-unlock-the-vehicle",children:"Step 5 \u2013 Lock and Unlock the Vehicle"}),"\n",(0,i.jsx)(n.p,{children:"With power enabled and buttons mapped, you can now use the keyfob commands."}),"\n",(0,i.jsxs)(n.p,{children:["The main command is ",(0,i.jsx)(n.a,{href:"/core/commands/core-commands-keyfob/#keyfobaction",children:(0,i.jsx)(n.code,{children:"keyfob.action"})}),". The argument you supply to this command must match the button name you configured in the Keyfob Tab."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you created a button named ",(0,i.jsx)(n.code,{children:"unlock"}),", the following command will trigger that function and send the corresponding signal to your vehicle\u2019s central locking system:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Step 5",src:t(12752).A+"",width:"1112",height:"561"})}),"\n",(0,i.jsx)(n.p,{children:"Typical actions include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unlock"})," \u2013 Open vehicle doors."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Lock"})," \u2013 Secure vehicle doors."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Trunk"})," \u2013 Release trunk or rear hatch."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Lights"})," \u2013 Flash headlights or activate hazard lights."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Each action depends on how the wires have been soldered to your original keyfob PCB. Always verify functionality in a safe environment before regular use."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.p,{children:"To ensure reliable operation and safety:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use consistent naming for buttons. Avoid spaces and special characters."}),"\n",(0,i.jsx)(n.li,{children:"Document the wire colors and functions in your project notes."}),"\n",(0,i.jsx)(n.li,{children:"Test each button individually before finalizing installation."}),"\n",(0,i.jsx)(n.li,{children:"Consider heat-shrink tubing around soldered joints for extra durability."}),"\n",(0,i.jsx)(n.li,{children:"If the vehicle does not respond, check the wiring orientation and verify that the AutoPi Cloud shows the device as online."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-and-support",children:"Troubleshooting and Support"}),"\n",(0,i.jsx)(n.p,{children:"If you experience issues:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify that ",(0,i.jsx)(n.strong,{children:"CONN2"})," is used for the connection."]}),"\n",(0,i.jsxs)(n.li,{children:["Confirm that ",(0,i.jsx)(n.code,{children:"Vcc3v3_switched"})," is supplying power to the keyfob."]}),"\n",(0,i.jsx)(n.li,{children:"Recheck soldering to ensure solid electrical connections."}),"\n",(0,i.jsx)(n.li,{children:"Confirm that the Keyfob Tab is visible and enabled in the AutoPi Cloud."}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"keyfob.power"})," again to confirm that the HAT is active."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If the problem persists, contact ",(0,i.jsx)(n.a,{href:"mailto:support@autopi.io",children:"support@autopi.io"})," or reach out to your assigned sales representative. Provide details such as your device ID, wiring layout, and button configuration for faster resolution."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);