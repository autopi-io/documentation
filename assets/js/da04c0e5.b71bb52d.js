(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[7596],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return p}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=l(n),p=o,h=m["".concat(c,".").concat(p)]||m[p]||d[p]||r;return n?a.createElement(h,s(s({ref:t},u),{},{components:n})):a.createElement(h,s({ref:t},u))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var l=2;l<r;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},21236:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return m}});var a=n(22122),o=n(19756),r=(n(67294),n(3905)),s=["components"],i={id:"nested-customers",title:"Nested Customers"},c=void 0,l={unversionedId:"cloud/fleet/nested-customers",id:"cloud/fleet/nested-customers",isDocsHomePage:!1,title:"Nested Customers",description:"The account section allows an account administrator to manage nested customers, which makes it possible to create an isolated account, assign devices and users to it, so that a customer can manage a fleet of devices, and it's own users.",source:"@site/docs/cloud/fleet/nested_customers.md",sourceDirName:"cloud/fleet",slug:"/cloud/fleet/nested-customers",permalink:"/cloud/fleet/nested-customers",editUrl:"https://github.com/autopi-io/documentation/edit/master/docs/cloud/fleet/nested_customers.md",tags:[],version:"current",frontMatter:{id:"nested-customers",title:"Nested Customers"},sidebar:"sidebar",previous:{title:"Alerts",permalink:"/cloud/fleet/fleet-alerts"},next:{title:"Templates",permalink:"/cloud/fleet/fleet-templates"}},u=[{value:"Managing Nested Customers",id:"managing-nested-customers",children:[]}],d={toc:u};function m(e){var t=e.components,n=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The account section allows an account administrator to manage nested customers, which makes it possible to create an isolated account, assign devices and users to it, so that a customer can manage a fleet of devices, and it's own users."),(0,r.kt)("p",null,"It makes it possible to have a structure like this."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Customer\n    users:\n        |_ user admin\n    accounts:\n        |_ nested customer A\n            users:\n                |_ user A\n        |_ nested customer B\n            users:\n                |_ user B\n")),(0,r.kt)("p",null,"The permissions model follows a top down appreoach, and only in that direction, this means that any users created on the nested customers, will only ever be able to see the devices directly associated to that account, at most, ie. full device access for a user on a nested account will see only the devices actually associated to the account, and not devices from the parent account / top account."),(0,r.kt)("p",null,"So in the example above, ",(0,r.kt)("inlineCode",{parentName:"p"},"user A")," can only see devices in the ",(0,r.kt)("inlineCode",{parentName:"p"},"nested customer A")," account, and the same for ",(0,r.kt)("inlineCode",{parentName:"p"},"user B"),", but the ",(0,r.kt)("inlineCode",{parentName:"p"},"admin")," user can see devices from both the top account, and any nested customers."),(0,r.kt)("h2",{id:"managing-nested-customers"},"Managing Nested Customers"),(0,r.kt)("p",null,"The typical steps are"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"A. Create a nested customer\nB. Assign some devices to the new customer\nC. Create an administrator user on the new account\n")),(0,r.kt)("p",null,"All interaction with this happens in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Account")," page."),(0,r.kt)("h4",{id:"create-a-nested-customer"},"Create a Nested Customer"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Click the ",(0,r.kt)("inlineCode",{parentName:"li"},"Customers")," tab"),(0,r.kt)("li",{parentName:"ol"},"Click the ",(0,r.kt)("inlineCode",{parentName:"li"},"Create")," button"),(0,r.kt)("li",{parentName:"ol"},"Fill out the settings and click ",(0,r.kt)("inlineCode",{parentName:"li"},"Create"))),(0,r.kt)("h4",{id:"assign-some-devices-to-the-new-customer"},"Assign Some Devices to the New Customer"),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Devices")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Manage devices")),(0,r.kt)("li",{parentName:"ol"},"Click the newly created customer"),(0,r.kt)("li",{parentName:"ol"},"Now select one or more devices in the dropdown, or toggle the mode below the dropdown to input the ",(0,r.kt)("inlineCode",{parentName:"li"},"unit id")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"device ids")),(0,r.kt)("li",{parentName:"ol"},"Now click ",(0,r.kt)("inlineCode",{parentName:"li"},"Process")),(0,r.kt)("li",{parentName:"ol"},"The devices are now re-assigned to the new customer")),(0,r.kt)("h4",{id:"create-an-administrator-user-on-the-new-account"},"Create an Administrator User On the New Account"),(0,r.kt)("ol",{start:11},(0,r.kt)("li",{parentName:"ol"},"Now click the ",(0,r.kt)("inlineCode",{parentName:"li"},"Customers")," tab"),(0,r.kt)("li",{parentName:"ol"},"Click the customer that was created"),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Users")," to manage the users for the customer"),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Create")),(0,r.kt)("li",{parentName:"ol"},"Now create a new user, and remember to set the account to have ",(0,r.kt)("inlineCode",{parentName:"li"},"Account Administration")," rights, this will make the user have access to the assigned devices, and also to manage the users on the customer.")),(0,r.kt)("p",null,"You should now have a nested customer with some devices associated, and a user."),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Contact ",(0,r.kt)("a",{parentName:"p",href:"mailto:sales@autopi.io"},"sales@autopi.io")," to get more information."))))}m.isMDXComponent=!0}}]);