"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[5981],{11946:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/create_project-426a6f071ba19714337bb4de947adee2.png"},13174:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/releases_page-c1a946d8fd8351bb792e07d1e0598995.png"},16816:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/create_registry-e3bdfb32c06ea111edc5e55315a413ba.png"},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}},38194:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/create_release-6511b025eb8778ef334ffaea0f7614dc.png"},47886:(e,n,i)=>{i.d(n,{A:()=>t});i(96540);var r=i(74848);const s={mini:{name:"Mini",image:"/img/hardware/autopi_mini/AutoPi_Mini_5_Top_right.png"},cm4:{name:"TMU CM4",image:"/img/hardware/shared_devices/autopi_cm4_device_look.webp"},pro:{name:"CAN-FD Pro",image:"/img/hardware/autopi_canfd_pro/canfd_pro_trans.png"},pro_case:{name:"CAN-FD Pro +IP67 casing",image:"/img/hardware/shared_devices/autopi_canfd_pro_casing_obdcable.png"}};function t(e){let{supported:n}=e;return n?.length?(0,r.jsxs)("div",{style:{padding:"1rem",marginBottom:"1.5rem"},children:[(0,r.jsx)("strong",{children:"This guide is applicable to the following device / devices:"}),(0,r.jsx)("div",{style:{display:"flex",gap:"1.5rem",marginTop:"0.75rem"},children:n.map((e=>{const n=s[e];return(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("img",{src:n.image,alt:n.name,style:{height:"60px",marginBottom:"0.5rem",display:"block",marginLeft:"auto",marginRight:"auto"}}),(0,r.jsx)("div",{children:n.name})]},e)}))})]}):null}},49399:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"developer_guides/setting-up-docker","title":"Setting Up Docker on Your Device","description":"---","source":"@site/docs/developer_guides/setting_up_docker.md","sourceDirName":"developer_guides","slug":"/developer_guides/setting-up-docker","permalink":"/developer_guides/setting-up-docker","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/developer_guides/setting_up_docker.md","tags":[],"version":"current","frontMatter":{"id":"setting-up-docker","title":"Setting Up Docker on Your Device","supportedDevices":["cm4","pro","pro_case"]},"sidebar":"sidebar","previous":{"title":"AutoPi Local API Overview","permalink":"/developer_guides/local-api-overview"},"next":{"title":"How to Create a Custom Event for Your Custom Logger","permalink":"/developer_guides/how-to-create-custom-event-for-custom-logger"}}');var s=i(74848),t=i(28453),l=(i(58162),i(47886));const o={id:"setting-up-docker",title:"Setting Up Docker on Your Device",supportedDevices:["cm4","pro","pro_case"]},a=void 0,c={},d=[{value:"Overview",id:"overview",level:2},{value:"Understanding Registries, Projects, and Releases",id:"understanding-registries-projects-and-releases",level:2},{value:"Docker Registries",id:"docker-registries",level:3},{value:"Create Docker Registries",id:"create-docker-registries",level:4},{value:"Projects",id:"projects",level:3},{value:"Create Projects",id:"create-projects",level:4},{value:"Releases",id:"releases",level:3},{value:"Create Releases",id:"create-releases",level:4},{value:"Applying release",id:"applying-release",level:3},{value:"Optional Features (Advanced)",id:"optional-features-advanced",level:3},{value:"Container Runtime Configuration",id:"container-runtime-configuration",level:3},{value:"Deploying a Docker Container to Your AutoPi Device",id:"deploying-a-docker-container-to-your-autopi-device",level:2},{value:"1. Build and Push Your Docker Image",id:"1-build-and-push-your-docker-image",level:3},{value:"2. Create a Release in AutoPi Cloud",id:"2-create-a-release-in-autopi-cloud",level:3},{value:"3. Deploy to Devices",id:"3-deploy-to-devices",level:3},{value:"Example Release Payload",id:"example-release-payload",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Container fails to start",id:"container-fails-to-start",level:3},{value:"Image Cannot Be Pulled",id:"image-cannot-be-pulled",level:3},{value:"Container Keeps Restarting",id:"container-keeps-restarting",level:3},{value:"Permission Issues",id:"permission-issues",level:3},{value:"Networking Problems",id:"networking-problems",level:3}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{supported:o.supportedDevices}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This guide explains how to set up Docker on your AutoPi device and deploy containers through the AutoPi Cloud. It also covers registries, projects, releases, optional features, runtime configuration, and troubleshooting."}),"\n",(0,s.jsx)(n.p,{children:"AutoPi devices support running Docker containers directly on the unit. This enables you to deploy applications such as:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AI/ML services"}),"\n",(0,s.jsx)(n.li,{children:"Custom scripts or backend services"}),"\n",(0,s.jsx)(n.li,{children:"Data processing pipelines"}),"\n",(0,s.jsx)(n.li,{children:"Communication bridges or MQTT processors"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The deployment flow works like this:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Build and store your container in a ",(0,s.jsx)(n.strong,{children:"Docker registry"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Group your container builds in an AutoPi ",(0,s.jsx)(n.strong,{children:"project"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Create a ",(0,s.jsx)(n.strong,{children:"release"})," that defines how the container should run."]}),"\n",(0,s.jsxs)(n.li,{children:["Deploy the release to your AutoPi ",(0,s.jsx)(n.strong,{children:"device"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"understanding-registries-projects-and-releases",children:"Understanding Registries, Projects, and Releases"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"The CRUD endpoints all return \u201c201 Created\u201d or \u201c200 OK\u201d when an entity is created or modified, and the body of the response will contain the created or modified entity. The DELETE method will return \u201c204 No content\u201d on success."})}),"\n",(0,s.jsx)(n.h3,{id:"docker-registries",children:"Docker Registries"}),"\n",(0,s.jsx)(n.p,{children:"A registry should be created to allow the device to authenticate against a custom docker registry. The model contains the url and credentials for the custom docker registry. When added, devices will automatically log in to the registry if not already logged in, on startup, and thereby be ready to pull images."}),"\n",(0,s.jsx)(n.h4,{id:"create-docker-registries",children:"Create Docker Registries"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Using AutoPi Cloud"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["When creating a registry in the ",(0,s.jsx)(n.strong,{children:"AutoPi Cloud"}),", you can configure:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Authentication (if needed)"}),"\n",(0,s.jsx)(n.li,{children:"Registry type"}),"\n",(0,s.jsx)(n.li,{children:"Additional metadata"}),"\n",(0,s.jsx)(n.li,{children:"Optional features supported by the image"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create Docker Registry",src:i(16816).A+"",width:"790",height:"289"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Using ",(0,s.jsx)(n.strong,{children:"API endpoint"})]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can also create a registry by using this API endpoint: ",(0,s.jsx)(n.a,{href:"https://api.autopi.io/?_gl=1*yvyxyh*_ga*MTY3MDAyMDE4Mi4xNzQ5MTEwNDIx*_ga_DB2BZPKYN9*czE3NjQwODMwNDgkbzIzMSRnMSR0MTc2NDA4MzA0OSRqNTkkbDAkaDA.#/docker/docker_registries_create",children:"Docker_registries_create"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"POST /docker/registries/\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"If the image should be pulled through a custom registry, the registry needs to be referenced when creating the container."})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"projects",children:"Projects"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"project"})," groups all releases of your application, think of it as your application's home inside AutoPi. The project endpoint is a wrapper for releases, so to create any releases you must first create a project."]}),"\n",(0,s.jsx)(n.p,{children:"A project can contain:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Development releases"}),"\n",(0,s.jsx)(n.li,{children:"Production releases"}),"\n",(0,s.jsx)(n.li,{children:"Multiple container versions"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"create-projects",children:"Create Projects"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Using AutoPi Cloud"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["When creating a project in the ",(0,s.jsx)(n.strong,{children:"AutoPi Cloud"}),", you can configure:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Name"}),"\n",(0,s.jsx)(n.li,{children:"Description"}),"\n",(0,s.jsx)(n.li,{children:"Registry"}),"\n",(0,s.jsx)(n.li,{children:"Selection of Devices"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create Docker Project",src:i(11946).A+"",width:"788",height:"364"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"When including your AutoPi devices, make sure you have the Docker enabled in the advanced settings."})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Using ",(0,s.jsx)(n.strong,{children:"API endpoint"})]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can also create a project by using our API endpoint: ",(0,s.jsx)(n.a,{href:"https://api.autopi.io/?_gl=1*1225mqr*_ga*MTY3MDAyMDE4Mi4xNzQ5MTEwNDIx*_ga_DB2BZPKYN9*czE3NjQwODMwNDgkbzIzMSRnMSR0MTc2NDA4MzA0OSRqNTkkbDAkaDA.#/docker/docker_projects_create",children:"Project_create"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"POST /docker/projects/\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"releases",children:"Releases"}),"\n",(0,s.jsx)(n.p,{children:"A release represents a specific version of your container deployment. The release endpoint is used to create new releases, and contains a list of containers each with metadata and runtime properties for that specific container."}),"\n",(0,s.jsx)(n.p,{children:"A release defines:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The image name and tag"}),"\n",(0,s.jsx)(n.li,{children:"Startup parameters"}),"\n",(0,s.jsx)(n.li,{children:"Networking mode"}),"\n",(0,s.jsx)(n.li,{children:"Restart behavior"}),"\n",(0,s.jsx)(n.li,{children:"Environment variables"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Every time you push a new Docker image, you can create a new release pointing to that version."}),"\n",(0,s.jsx)(n.h4,{id:"create-releases",children:"Create Releases"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Using AutoPi Cloud"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["When creating a release in the ",(0,s.jsx)(n.strong,{children:"AutoPi Cloud"}),", you can configure:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Version"}),"\n",(0,s.jsx)(n.li,{children:"Device selection"}),"\n",(0,s.jsx)(n.li,{children:"Containers - Name, Tag, Image, Registry, Startup parameters, Purge data"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create Docker Release",src:i(38194).A+"",width:"794",height:"1107"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Using ",(0,s.jsx)(n.strong,{children:"API endpoint"})]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can also create a registry by using our API endpoint: ",(0,s.jsx)(n.a,{href:"https://api.autopi.io/?_gl=1*vll328*_ga*MTY3MDAyMDE4Mi4xNzQ5MTEwNDIx*_ga_DB2BZPKYN9*czE3NjQwODMwNDgkbzIzMSRnMSR0MTc2NDA4MzA0OSRqNTkkbDAkaDA.#/docker/docker_projects_releases_create",children:"Release_create"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"POST /docker/projects/{project_pk}/releases/\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"applying-release",children:"Applying release"}),"\n",(0,s.jsx)(n.p,{children:"After a release is created, each device associated to the release will receive the release information, and the release will be applied the next time the device is about to go to sleep, as the device in that situation is considered to be idle. Logging in to registries, removing images, pulling new images, starting containers etc."}),"\n",(0,s.jsxs)(n.p,{children:["The release can also ",(0,s.jsx)(n.strong,{children:"be triggered"})," by executing the following command via the execute endpoint on the devices you want to deploy to."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"state.sls docker.release\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"optional-features-advanced",children:"Optional Features (Advanced)"}),"\n",(0,s.jsx)(n.p,{children:"Some Docker images include additional features for performance or hardware acceleration, such as:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GPU acceleration"}),"\n",(0,s.jsx)(n.li,{children:"CPU instruction optimizations"}),"\n",(0,s.jsx)(n.li,{children:"Debug builds"}),"\n",(0,s.jsx)(n.li,{children:"Extra Python packages"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You can configure these when setting up the registry or release, depending on the image."}),"\n",(0,s.jsxs)(n.p,{children:["Reference example: ",(0,s.jsx)(n.a,{href:"https://hub.docker.com/r/tensorflow/tensorflow#optional-features",children:"Tensorflow example"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"container-runtime-configuration",children:"Container Runtime Configuration"}),"\n",(0,s.jsx)(n.p,{children:"AutoPi allows customizing the container at runtime, including:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Environment variables"}),"\n",(0,s.jsxs)(n.li,{children:["Network mode (",(0,s.jsx)(n.code,{children:"host"}),", ",(0,s.jsx)(n.code,{children:"bridge"}),", etc.)"]}),"\n",(0,s.jsx)(n.li,{children:"Restart policy"}),"\n",(0,s.jsx)(n.li,{children:"Privileges"}),"\n",(0,s.jsx)(n.li,{children:"Volumes"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For example configurations, see: ",(0,s.jsx)(n.a,{href:"https://hub.docker.com/r/tensorflow/tensorflow#running-containers",children:"Tensorflow example"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"deploying-a-docker-container-to-your-autopi-device",children:"Deploying a Docker Container to Your AutoPi Device"}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"Before you start implementing a Docker container on your AutoPi device, make sure the following requirements are completed:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Docker add-on is enabled"}),(0,s.jsx)(n.br,{}),"\n","Docker support is an optional add-on that needs to be enabled for your Customer's account.\nContact our sales team at ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"mailto:sales@autopi.io",children:"sales@autopi.io"})})," to enable this functionality on your account."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Docker is enabled in advanced settings"}),(0,s.jsx)(n.br,{}),"\n","In the AutoPi Cloud, navigate to: Advanced Settings \u2192 Docker. Ensure that ",(0,s.jsx)(n.strong,{children:"Docker is enabled"})," for the device you want to use."]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(n.h3,{id:"1-build-and-push-your-docker-image",children:"1. Build and Push Your Docker Image"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker build -t my-registry/my-image:latest \ndocker login my-registry\ndocker push my-registry/my-image:latest\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-create-a-release-in-autopi-cloud",children:"2. Create a Release in AutoPi Cloud"}),"\n",(0,s.jsx)(n.p,{children:"Steps to create a new release:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Docker"})," page and create or select an already existing Project; this will navigate you to a new page called Releases."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Releases Page",src:i(13174).A+"",width:"1706",height:"926"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'In order to add a new release, click on "Create" button.'}),"\n",(0,s.jsx)(n.li,{children:"Choose  the version and select devices."}),"\n",(0,s.jsxs)(n.li,{children:["Enter container settings:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Image name + tag"}),"\n",(0,s.jsx)(n.li,{children:"Include the image"}),"\n",(0,s.jsx)(n.li,{children:"Optionally fill out the rest of the parameters."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:'Press "Save".'}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-deploy-to-devices",children:"3. Deploy to Devices"}),"\n",(0,s.jsx)(n.p,{children:"Select which devices the release should be deployed to.\nAutoPi will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Pull the image"}),"\n",(0,s.jsx)(n.li,{children:"Start the container"}),"\n",(0,s.jsx)(n.li,{children:"Auto-restart it based on your policy"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example-release-payload",children:"Example Release Payload"}),"\n",(0,s.jsx)(n.p,{children:"This is an example release payload:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'    {\n      "version": "1.0.0",\n      "devices": [\n        "device_id"\n      ],\n      "containers": [\n        {\n          "name": "hello_word",\n          "image": "hello-world",\n          "tag": "latest",\n          "required_tags": [],\n          "startup_parameters": {\n            "privileged": false,\n            "environment": [],\n            "network_mode": "host",\n            "restart_policy": "always"\n          },\n          "purge_data": false,\n          "fully_qualified_name": "test-arm_hello-1.0.7"\n        }\n      ],\n      "remove_containers": [\n        "hello_world"\n      ]\n    }\n\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Special Fields"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"center"},children:(0,s.jsx)(n.strong,{children:"Name"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Required"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Description"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"remove_containers"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Explicitly names the containers which should be handled as \u2018initial containers\u2019. On release it will attempt to stop each container, run deployment, and if successful the containers will be removed, or on failure, they will be restarted."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"version_hash"}),(0,s.jsx)(n.td,{children:"Readonly"}),(0,s.jsx)(n.td,{children:"Alternative autogenerated field (readonly) only used for referencing a release by a generated version."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"successful_deployments"}),(0,s.jsx)(n.td,{children:"Readonly"}),(0,s.jsx)(n.td,{children:"Will include only devices which has successfully deployed the release."})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"container-fails-to-start",children:"Container fails to start"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Check container logs in Device \u2192 Logs."}),"\n",(0,s.jsx)(n.li,{children:"Ensure the image and tag exist in your registry."}),"\n",(0,s.jsx)(n.li,{children:"Verify networking mode does not conflict with other services."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"image-cannot-be-pulled",children:"Image Cannot Be Pulled"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure the device can access the registry."}),"\n",(0,s.jsx)(n.li,{children:"Confirm the image is public or authentication is configured."}),"\n",(0,s.jsx)(n.li,{children:"Check for typos in image/tag names."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"container-keeps-restarting",children:"Container Keeps Restarting"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Review application logs inside the container."}),"\n",(0,s.jsx)(n.li,{children:"Confirm environment variables are set correctly."}),"\n",(0,s.jsxs)(n.li,{children:["Temporarily set ",(0,s.jsx)(n.code,{children:"restart_policy"})," to ",(0,s.jsx)(n.code,{children:"on-failure"})," when debugging."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"permission-issues",children:"Permission Issues"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Only use privileged: true if absolutely required."}),"\n",(0,s.jsx)(n.li,{children:"Verify required volume mount paths."}),"\n",(0,s.jsx)(n.li,{children:"Some applications may need root permissions\u2014verify documentation."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"networking-problems",children:"Networking Problems"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"network_mode"}),": ",(0,s.jsx)(n.code,{children:"host"})," if interacting with: CAN, GPS or other hardware interfaces."]}),"\n",(0,s.jsx)(n.li,{children:"Ensure no port conflicts with existing services."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"You are all set!"})}),"\n",(0,s.jsx)(n.p,{children:"With Docker support on the AutoPi device, you can deploy powerful and flexible applications at the edge. Using registries, projects, and releases ensures a clean and maintainable deployment workflow."})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},58162:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);const r="homeGrid_MM9h",s="cardGrid_IPp8";var t=i(74848);const l=e=>{let{children:n,home:i=!1}=e;return(0,t.jsx)("div",{className:i?r:s,children:n})}}}]);