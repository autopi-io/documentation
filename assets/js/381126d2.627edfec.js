(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[8223],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return c},kt:function(){return h}});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),u=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},s=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),s=u(a),h=n,f=s["".concat(l,".").concat(h)]||s[h]||d[h]||i;return a?r.createElement(f,o(o({ref:t},c),{},{components:a})):r.createElement(f,o({ref:t},c))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=s;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:n,o[1]=p;for(var u=2;u<i;u++)o[u]=a[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}s.displayName="MDXCreateElement"},7129:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return p},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return s}});var r=a(22122),n=a(19756),i=(a(67294),a(3905)),o=["components"],p={id:"create-valid-can-dump",title:"Create a Valid Can Dump"},l=void 0,u={unversionedId:"cloud/obd-ii/create-valid-can-dump",id:"cloud/obd-ii/create-valid-can-dump",isDocsHomePage:!1,title:"Create a Valid Can Dump",description:"The following is a guide to obtain a Valid CAN (Controller Area Network) dump.",source:"@site/docs/cloud/obd-ii/can_dump.md",sourceDirName:"cloud/obd-ii",slug:"/cloud/obd-ii/create-valid-can-dump",permalink:"/cloud/obd-ii/create-valid-can-dump",editUrl:"https://github.com/autopi-io/documentation/edit/master/docs/cloud/obd-ii/can_dump.md",tags:[],version:"current",frontMatter:{id:"create-valid-can-dump",title:"Create a Valid Can Dump"},sidebar:"sidebar",previous:{title:"Automatic OBD Logger Pausing",permalink:"/cloud/obd-ii/automatic-obd-logger-pausing"},next:{title:"My Library",permalink:"/cloud/obd_library/car-explorer-library-manual"}},c=[{value:"Set Up a Virtual CAN Interface on the Device:",id:"set-up-a-virtual-can-interface-on-the-device",children:[]},{value:"Load CAN Dump Data Into Virtual CAN:",id:"load-can-dump-data-into-virtual-can",children:[]}],d={toc:c};function s(e){var t=e.components,a=(0,n.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The following is a guide to obtain a Valid ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," (Controller Area Network) dump."),(0,i.kt)("p",null,"The first step involves capturing a valid ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," dump from\nthe vehicle you are working with. This dump contains all the data traffic\nexchanged between various ECUs (Electronic Control Units) within the vehicle.\nIt is essential to ensure that the captured data accurately reflects the\noperational state and configuration of the vehicle\u2019s ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," bus."),(0,i.kt)("p",null,"Tools such as candump or other diagnostic software compatible with the vehicle's\n",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," system are typically used to retrieve this data."),(0,i.kt)("h2",{id:"set-up-a-virtual-can-interface-on-the-device"},"Set Up a Virtual ",(0,i.kt)("a",{parentName:"h2",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," Interface on the Device:"),(0,i.kt)("p",null,"Next, you need to configure a virtual ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," (vcan) interface on the device where\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," loop will be tested. A virtual ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," allows for emulation of a physical\n",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," interface, enabling testing and simulation without needing actual ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN"),"\nhardware. This step is especially useful during development or in situations\nwhere physical hardware is not available."),(0,i.kt)("p",null,"The setup can be done using Linux utilities like ip link to create a virtual ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN"),"\ninterface, followed by configuring its bitrate and bringing the interface up."),(0,i.kt)("p",null,"To set up the interface use the command ip link set vcan0 type vcan bitrate \u201cnum\u201d\n\u2013 Replace num with the desired bitrate value, matching the data in the ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," bus dump."),(0,i.kt)("h2",{id:"load-can-dump-data-into-virtual-can"},"Load CAN Dump Data Into Virtual CAN:"),(0,i.kt)("p",null,"After configuring the virtual ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," interface, the ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," dump previously captured\nneeds to be loaded into the system. Use canplayer to replay the ",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," traffic from\nthe dump file over the virtual interface, simulating the behavior of the vehicle's\n",(0,i.kt)("a",{parentName:"p",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," bus on your device."),(0,i.kt)("p",null,"Canplayer is a command line tool where canplayer invokes the application\nthe following are the valid input parameter:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-I")," followed by the path of your ",(0,i.kt)("a",{parentName:"li",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," dump"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-l (num)")," num being number of times you want the file repeated ",(0,i.kt)("inlineCode",{parentName:"li"},"-i")," for infinite"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-t")," ignore timestamps"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-g<ms>")," gap in milliseconds, default 1"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-s<s>")," skips gaps in timestamp (s = seconds)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-x")," disable local loopback of sent ",(0,i.kt)("a",{parentName:"li",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," frames"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-v")," verbose \u2013 print sent ",(0,i.kt)("a",{parentName:"li",href:"https://www.autopi.io/hardware/autopi-canfd-pro"},"CAN")," frames")))}s.isMDXComponent=!0}}]);