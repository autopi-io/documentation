(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[6947],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return m},kt:function(){return N}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),d=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},m=function(t){var e=d(t.components);return a.createElement(o.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,o=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),u=d(n),N=r,k=u["".concat(o,".").concat(N)]||u[N]||c[N]||l;return n?a.createElement(k,i(i({ref:e},m),{},{components:n})):a.createElement(k,i({ref:e},m))}));function N(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=u;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=t,p.mdxType="string"==typeof t?t:r,i[1]=p;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2026:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return p},contentTitle:function(){return o},metadata:function(){return d},toc:function(){return m},default:function(){return u}});var a=n(2122),r=n(9756),l=(n(7294),n(3905)),i=["components"],p={id:"using-hat",title:"Using the HAT"},o=void 0,d={unversionedId:"hardware/autopi-tmu-cm4/using-hat",id:"hardware/autopi-tmu-cm4/using-hat",isDocsHomePage:!1,title:"Using the HAT",description:"The AutoPi TMU CM4 comes with an integrated 40 pin header (1.27mm pitch). It is possible to use the header to design HAT (Hardware Attached on Top) boards that greatly extends the functionality of the device. The image below shows the placement of the HAT on the board. It has been designed, so that a new HAT can fit into the casing.",source:"@site/docs/hardware/autopi-tmu-cm4/using_hat.mdx",sourceDirName:"hardware/autopi-tmu-cm4",slug:"/hardware/autopi-tmu-cm4/using-hat",permalink:"/hardware/autopi-tmu-cm4/using-hat",editUrl:"https://github.com/autopi-io/documentation/edit/master/docs/hardware/autopi-tmu-cm4/using_hat.mdx",tags:[],version:"current",frontMatter:{id:"using-hat",title:"Using the HAT"},sidebar:"hardwareSidebar",previous:{title:"OBD Connector Pinout",permalink:"/hardware/autopi-tmu-cm4/obd-connector-pinout"}},m=[],c={toc:m};function u(t){var e=t.components,p=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},c,p,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The AutoPi TMU CM4 comes with an integrated 40 pin header (1.27mm pitch). It is possible to use the header to design HAT (Hardware Attached on Top) boards that greatly extends the functionality of the device. The image below shows the placement of the HAT on the board. It has been designed, so that a new HAT can fit into the casing."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"HAT Placement",src:n(756).Z})),(0,l.kt)("p",null,"The following table is an explanation of each pinout:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},(0,l.kt)("strong",{parentName:"th"},"Pin")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Name")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Description")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"HS_CAN_HIGH / OBD_PIN_6"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to CAN0 High line and directly to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"HS_CAN_LOW / OBD_PIN_14"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to CAN0 Low line and directly to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"MS_CAN_HIGH / OBD_PIN_3"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to CAN1 High line and directly to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"MS_CAN_LOW / OBD_PIN_11"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to CAN1 Low line and directly to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_1"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_7"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_15"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_2"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"9"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_10"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"10"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_8"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"11"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_9"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_12"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"13"),(0,l.kt)("td",{parentName:"tr",align:null},"OBD_PIN_13"),(0,l.kt)("td",{parentName:"tr",align:null},"Directly connected to OBD pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"14"),(0,l.kt)("td",{parentName:"tr",align:null},"GND"),(0,l.kt)("td",{parentName:"tr",align:null},"Ground")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"15"),(0,l.kt)("td",{parentName:"tr",align:null},"12V_CAR / OBD_PIN_16"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to 12V supply from the car on OBD pin 16")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"RP2040_GPIO27"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to RP2040 SPM on GPIO27")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"17"),(0,l.kt)("td",{parentName:"tr",align:null},"5V_EXT"),(0,l.kt)("td",{parentName:"tr",align:null},"Controlable 5V supply")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"18"),(0,l.kt)("td",{parentName:"tr",align:null},"3V3_EXT"),(0,l.kt)("td",{parentName:"tr",align:null},"Controlable 3.3V supply")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"19"),(0,l.kt)("td",{parentName:"tr",align:null},"DOIP_ACT"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to RP2040 SPM on DoIP activate pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"20"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_GPIO23"),(0,l.kt)("td",{parentName:"tr",align:null},"Raspberry Pi CM4 GPIO23")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"21"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_GPIO24"),(0,l.kt)("td",{parentName:"tr",align:null},"Raspberry Pi CM4 GPIO24")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"22"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_GPIO27"),(0,l.kt)("td",{parentName:"tr",align:null},"Raspberry Pi CM4 GPIO27")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"23"),(0,l.kt)("td",{parentName:"tr",align:null},"GND"),(0,l.kt)("td",{parentName:"tr",align:null},"Ground")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"24"),(0,l.kt)("td",{parentName:"tr",align:null},"GND"),(0,l.kt)("td",{parentName:"tr",align:null},"Ground")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"25"),(0,l.kt)("td",{parentName:"tr",align:null},"5V"),(0,l.kt)("td",{parentName:"tr",align:null},"5V Supply")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"26"),(0,l.kt)("td",{parentName:"tr",align:null},"3V3"),(0,l.kt)("td",{parentName:"tr",align:null},"3.3V Supply")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"27"),(0,l.kt)("td",{parentName:"tr",align:null},"ETH_TD0-"),(0,l.kt)("td",{parentName:"tr",align:null},"Ethernet Data pin TD0-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"28"),(0,l.kt)("td",{parentName:"tr",align:null},"ETH_TD0+"),(0,l.kt)("td",{parentName:"tr",align:null},"Ethernet Data pin TD0+")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"29"),(0,l.kt)("td",{parentName:"tr",align:null},"ETH_TD1-"),(0,l.kt)("td",{parentName:"tr",align:null},"Ethernet Data pin TD1-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"30"),(0,l.kt)("td",{parentName:"tr",align:null},"ETH_TD1+"),(0,l.kt)("td",{parentName:"tr",align:null},"Ethernet Data pin TD1+")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"31"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_PWR"),(0,l.kt)("td",{parentName:"tr",align:null},"CM4 power status pin")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"RP2040_GPIO17"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to RP2040 SPM on GPIO17")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"33"),(0,l.kt)("td",{parentName:"tr",align:null},"RP2040_GPIO28"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection to RP2040 SPM on GPIO28")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"34"),(0,l.kt)("td",{parentName:"tr",align:null},"USB_DP_EXT"),(0,l.kt)("td",{parentName:"tr",align:null},"USB4 D+ Data line - HAT USB")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"35"),(0,l.kt)("td",{parentName:"tr",align:null},"USB_DM_EXT"),(0,l.kt)("td",{parentName:"tr",align:null},"USB4 D- Data line - HAT USB")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"36"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_GPIO22"),(0,l.kt)("td",{parentName:"tr",align:null},"Raspberry Pi CM4 GPIO22")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"37"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_ID_SD"),(0,l.kt)("td",{parentName:"tr",align:null},"Raspberry Pi CM4 ID_SD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"38"),(0,l.kt)("td",{parentName:"tr",align:null},"RPI_ID_SC"),(0,l.kt)("td",{parentName:"tr",align:null},"Raspberry Pi CM4 ID_SC")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"39"),(0,l.kt)("td",{parentName:"tr",align:null},"I2C1_SDA"),(0,l.kt)("td",{parentName:"tr",align:null},"I2C1 Data line")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"40"),(0,l.kt)("td",{parentName:"tr",align:null},"I2C1_SCL"),(0,l.kt)("td",{parentName:"tr",align:null},"I2C1 Clock line")))))}u.isMDXComponent=!0},756:function(t,e,n){"use strict";e.Z=n.p+"assets/images/cm4_pcb_Pinlayout-052e1744056c1e4ded5f05db64f29263.png"}}]);