"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[5884],{8403:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>h,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"cloud/obd-ii/automatic-obd-logger-pausing","title":"Automatic OBD Logger Pausing","description":"---","source":"@site/docs/cloud/obd-ii/automatic_obd_logger_pausing.md","sourceDirName":"cloud/obd-ii","slug":"/cloud/obd-ii/automatic-obd-logger-pausing","permalink":"/cloud/obd-ii/automatic-obd-logger-pausing","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/cloud/obd-ii/automatic_obd_logger_pausing.md","tags":[],"version":"current","frontMatter":{"id":"automatic-obd-logger-pausing","title":"Automatic OBD Logger Pausing","supportedDevices":["cm4"]},"sidebar":"sidebar","previous":{"title":"Using the CAN Bus Commands","permalink":"/cloud/obd-ii/using-the-can-bus-commands"},"next":{"title":"Create a Valid Can Dump","permalink":"/cloud/obd-ii/create-valid-can-dump"}}');var n=i(74848),s=i(28453),a=(i(58162),i(47886));const r={id:"automatic-obd-logger-pausing",title:"Automatic OBD Logger Pausing",supportedDevices:["cm4"]},h=void 0,d={},c=[{value:"How Does it Work?",id:"how-does-it-work",level:2},{value:"How to Set It Up?",id:"how-to-set-it-up",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.A,{supported:r.supportedDevices}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.p,{children:["Automatic OBD Logger Pausing is a feature that enables the ",(0,n.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"})," device to automatically pause any OBD loggers when it\ndetects that the vehicle has stopped shaking (which also likely means that the vehicle has stopped moving). This\nfeature is useful in situations where the vehicle that the AutoPi is plugged into has a ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," bus protection. Such\nvehicles usually detect ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," bus traffic when the vehicle is locked and in turn trigger the alarm of the vehicle - this\nis done to try and protect the vehicle from being fiddled with externally through the ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," bus. Examples of such\nvehicles are the BMW i3, some Mini Coopers and some Porche models."]}),"\n",(0,n.jsxs)(t.admonition,{type:"note",children:[(0,n.jsxs)(t.p,{children:["In fact, not only the loggers are being paused, but in general the device is not allowed to send any ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," frames on the\n",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," bus of the vehicle. This means that if you attempt to manually send a ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," frame with a command such as ",(0,n.jsx)(t.code,{children:"obd.send"}),"\nor ",(0,n.jsx)(t.code,{children:"obd.query"})," you will receive an error."]}),(0,n.jsxs)(t.p,{children:["Passively listening (also known as sniffing) on the ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," bus is still allowed though."]})]}),"\n",(0,n.jsx)(t.h2,{id:"how-does-it-work",children:"How Does it Work?"}),"\n",(0,n.jsx)(t.p,{children:"The Automatic OBD Logger Pausing feature works by using the data from the accelerometer integrated into the AutoPi. The\naccelerometer will detect motion and trigger events based on the motion detected. The three events that\nare being triggered are:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"vehicle/motion/steady"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"vehicle/motion/shaking"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"vehicle/motion/jolting"})}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Using these events (and the ",(0,n.jsx)(t.code,{children:"vehicle/motor"})," or ",(0,n.jsx)(t.code,{children:"vehicle/engine"})," events as helpers), the AutoPi is able to determine when\nit's a good time to pause and unpause the loggers to avoid setting off the alarm of the vehicle."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["Keep in mind that the ",(0,n.jsx)(t.code,{children:"vehicle/motion/jolting"})," event is not used to determine the behavior of the Automatic OBD Logger\nPausing feature."]})}),"\n",(0,n.jsx)(t.h2,{id:"how-to-set-it-up",children:"How to Set It Up?"}),"\n",(0,n.jsx)(t.p,{children:"To enable the Automatic OBD Logger Pausing functionality, you will need to ensure the following advanced settings are\nset on your device:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"OBD > Automatic Logger Pausing"})," must be set to ",(0,n.jsx)(t.code,{children:"True"})," (Enabled)"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"Accelerometer > Motion Events > Enabled"})," must be set to ",(0,n.jsx)(t.code,{children:"True"})," (Enabled)"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"You can confirm that the setup has been made successfully if you confirm the following two changes in your device's\nservices:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Navigate to the workers of the Accelerometer Manager (Services > acc_manager > Workers) - there you should see an\n",(0,n.jsx)(t.code,{children:"xyz_logger"})," worker. If you open it up, you should be able to see that the trigger in the Workflow is\n",(0,n.jsx)(t.code,{children:"motion_event"})," - this enables the ",(0,n.jsx)(t.code,{children:"vehicle/motion/*"})," events."]}),"\n",(0,n.jsxs)(t.li,{children:["Navigate to the reactors of the Event Reactor (Services > event_reactor > Reactors) - there you should see two\nnew reactors - ",(0,n.jsx)(t.code,{children:"enable_obd_on_motion_shaking"})," and ",(0,n.jsx)(t.code,{children:"disable_obd_on_motion_steady_or_trip_end"})," - these reactors are\nresponsible for enabling and disabling the OBD logging."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,n.jsxs)(t.p,{children:["Sometimes, you might notice that even though you have enabled the Automatic OBD Logger Pausing feature, the AutoPi is\nstill sending ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," Frames on the ",(0,n.jsx)(t.a,{href:"https://www.autopi.io/hardware/autopi-canfd-pro",children:"CAN"})," bus. This is usually caused by your vehicle being too easy to shake which in turn\ntriggers a ",(0,n.jsx)(t.code,{children:"vehicle/motion/shaking"})," event much more easily (this is the event that reactivates the OBD loggers).\nDepending on the vehicle type that you are using, the driving behavior, road conditions and more the device might think\nthat the vehicle is being driven while in fact it isn't or vice versa."]}),"\n",(0,n.jsxs)(t.p,{children:["For this reason, we have made it possible for you to change and fine-tune the way that those motion events are being\ntriggered. You can find the fine-tuning settings in the advanced settings of your device under Accelerometer > Motion\nEvents. We suggest that you focus primarily on the Debounce Delay and Shake settings, because the\n",(0,n.jsx)(t.code,{children:"vehicle/motion/jolting"})," event is not used to reactivate the OBD loggers - only the ",(0,n.jsx)(t.code,{children:"vehicle/motion/shaking"})," event is."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>r});var o=i(96540);const n={},s=o.createContext(n);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),o.createElement(s.Provider,{value:t},e.children)}},47886:(e,t,i)=>{i.d(t,{A:()=>s});i(96540);var o=i(74848);const n={mini:{name:"Mini",image:"/img/hardware/autopi_mini/AutoPi_Mini_5_Top_right.png"},cm4:{name:"TMU CM4",image:"/img/hardware/autopi_tmu_cm4/TMU_Floating_Topside_V1_scaled.png"},pro:{name:"CAN-FD Pro",image:"/img/hardware/autopi_canfd_pro/canfd_pro_trans.png"}};function s(e){let{supported:t}=e;return t?.length?(0,o.jsxs)("div",{style:{padding:"1rem",marginBottom:"1.5rem"},children:[(0,o.jsx)("strong",{children:"This guide is applicable to the following device/ devices:"}),(0,o.jsx)("div",{style:{display:"flex",gap:"1.5rem",marginTop:"0.5rem"},children:t.map((e=>{const t=n[e];return(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)("img",{src:t.image,alt:t.name,style:{height:"60px",marginBottom:"0.25rem"}}),(0,o.jsx)("div",{children:t.name})]},e)}))})]}):null}},58162:(e,t,i)=>{i.d(t,{A:()=>a});i(96540);const o="homeGrid_MM9h",n="cardGrid_IPp8";var s=i(74848);const a=e=>{let{children:t,home:i=!1}=e;return(0,s.jsx)("div",{className:i?o:n,children:t})}}}]);