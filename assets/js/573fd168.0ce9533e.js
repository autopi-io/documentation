"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[8823],{28453:(e,t,d)=>{d.d(t,{R:()=>r,x:()=>l});var n=d(96540);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}},69211:(e,t,d)=>{d.r(t),d.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>x,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud-config-cloud-storage","title":"Cloud Storage","description":"| Name | Description | Type | Default | Unit |","source":"@site/docs/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud_storage.md","sourceDirName":"cloud/device_management/advanced_settings/autopi_tmu_cm4","slug":"/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud-config-cloud-storage","permalink":"/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud-config-cloud-storage","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud_storage.md","tags":[],"version":"current","frontMatter":{"id":"cloud-config-cloud-storage","title":"Cloud Storage"},"sidebar":"sidebar","previous":{"title":"Charging Session","permalink":"/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud-config-charging-session"},"next":{"title":"Docker","permalink":"/cloud/device_management/advanced_settings/autopi_tmu_cm4/cloud-config-docker"}}');var s=d(74848),i=d(28453);const r={id:"cloud-config-cloud-storage",title:"Cloud Storage"},l=void 0,h={},c=[{value:"Https",id:"https",level:2},{value:"Cache",id:"cache",level:4},{value:"Compression",id:"compression",level:4},{value:"Endpoint",id:"endpoint",level:4},{value:"Upload",id:"upload",level:4},{value:"Jsonl Returner",id:"jsonl-returner",level:2},{value:"Async File Writer",id:"async-file-writer",level:4},{value:"File Rotation",id:"file-rotation",level:4},{value:"Jsonl Shipper",id:"jsonl-shipper",level:2},{value:"Cleanup",id:"cleanup",level:4},{value:"Input",id:"input",level:4},{value:"Output",id:"output",level:4}];function o(e){const t={a:"a",code:"code",h2:"h2",h4:"h4",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"DEFAULT RETURNER"}),(0,s.jsx)(t.td,{children:"Which cloud returner should be used as default? Only change this value if you know what you are doing."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"cloud"}),(0,s.jsx)(t.td,{children:"-"})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"https",children:"Https"}),"\n",(0,s.jsx)(t.h4,{id:"cache",children:"Cache"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"MAX BATCH SIZE"}),(0,s.jsx)(t.td,{children:"The maximum amount of entries to include in an upload batch."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"1000"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"MAX RETRY"}),(0,s.jsx)(t.td,{children:"The maximum retry attempts before transferring batch to fail queue. Retry and fail queues are disabled if set to zero, meaning that pending will block until success."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"30"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FAIL TTL"}),(0,s.jsx)(t.td,{children:"How many days of retention before a fail queue is deleted?"}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"30"}),(0,s.jsx)(t.td,{children:"d"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"compression",children:"Compression"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"LEVEL"}),(0,s.jsx)(t.td,{children:"Integer from 0 to 9 controlling the level of compression; 1 is fastest and produces the least compression, and 9 is slowest and produces the most compression. 0 is no compression."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"9"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ALGORITHM"}),(0,s.jsx)(t.td,{children:"Compress data with selected algorithm before uploading."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"endpoint",children:"Endpoint"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"URL"}),(0,s.jsx)(t.td,{children:"The endpoint URL of the API where data is pushed to."}),(0,s.jsx)(t.td,{children:"url"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://api.autopi.io/logbook/storage",children:"https://api.autopi.io/logbook/storage"})}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"AUTH TOKEN"}),(0,s.jsx)(t.td,{children:"The authentication token used in HTTP header when pushing data to the API."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"}),(0,s.jsx)(t.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"upload",children:"Upload"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SPLAY"}),(0,s.jsx)(t.td,{children:"The maximum amount of time in seconds between consecutive uploads of batches. The actual delay is a randomly generated value between zero and the splay value. In error scenarios, the delay is increased by an incrementing factor."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"10"}),(0,s.jsx)(t.td,{children:"s"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"INTERVAL"}),(0,s.jsx)(t.td,{children:"How often should cached data be uploaded to the cloud endpoint?"}),(0,s.jsx)(t.td,{children:"float"}),(0,s.jsx)(t.td,{children:"60"}),(0,s.jsx)(t.td,{children:"s"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"TIMEOUT"}),(0,s.jsx)(t.td,{children:"How long to wait for server to respond?"}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"60"}),(0,s.jsx)(t.td,{children:"s"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"EVENT REGEX"}),(0,s.jsx)(t.td,{children:"In addition to repeated interval, upload data to cloud when event(s) occur."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"^system/power/(sleep|hibernate|reboot)"}),(0,s.jsx)(t.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"jsonl-returner",children:"Jsonl Returner"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FILENAME FORMAT"}),(0,s.jsx)(t.td,{children:"How should the JSONL files be named?"}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{now:%y%m%d%H%M%S}_{pid}.jsonl"})}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"DIRECTORY"}),(0,s.jsx)(t.td,{children:"In which directory should the JSONL files be stored?"}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"/opt/autopi/data"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FILE MODE"}),(0,s.jsx)(t.td,{children:"In which mode should new files be opened?"}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"a"}),(0,s.jsx)(t.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"async-file-writer",children:"Async File Writer"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FLUSH TIMEOUT"}),(0,s.jsx)(t.td,{children:"Time limit for when the internal buffer should be written to disk."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"1"}),(0,s.jsx)(t.td,{children:"s"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FLUSH THRESHOLD"}),(0,s.jsx)(t.td,{children:"Size limit for when the internal buffer should be written to disk."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"5242880"}),(0,s.jsx)(t.td,{children:"b"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"BUFFER HIGH WATERMARK"}),(0,s.jsx)(t.td,{children:"Size for buffer highwater mark warning."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"b"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"BUFFER SIZE"}),(0,s.jsx)(t.td,{children:"Size of the internal buffer."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"52428800"}),(0,s.jsx)(t.td,{children:"b"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"file-rotation",children:"File Rotation"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SIZE THRESHOLD"}),(0,s.jsx)(t.td,{children:"Size limit for when to rorate to a new file."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"524288000"}),(0,s.jsx)(t.td,{children:"b"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"INTERVAL"}),(0,s.jsx)(t.td,{children:"Time interval for when to rorate to a new file."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"s"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"CRON EXPRESSION"}),(0,s.jsx)(t.td,{children:"Cron expression for when to rotate to a new file."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"0 0 * * *"}),(0,s.jsx)(t.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"jsonl-shipper",children:"Jsonl Shipper"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ENABLED"}),(0,s.jsx)(t.td,{children:"Enable service for shipping JSONL files to cloud?"}),(0,s.jsx)(t.td,{children:"bool"}),(0,s.jsx)(t.td,{children:"False"}),(0,s.jsx)(t.td,{children:"-"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"cleanup",children:"Cleanup"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"OLDER THAN"}),(0,s.jsx)(t.td,{children:"The minimum age before fully harvested JSONL files are removed."}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"3600"}),(0,s.jsx)(t.td,{children:"s"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"INTERVAL"}),(0,s.jsx)(t.td,{children:"How often should cleanup of harvested JSONL files be performed?"}),(0,s.jsx)(t.td,{children:"int"}),(0,s.jsx)(t.td,{children:"3600"}),(0,s.jsx)(t.td,{children:"s"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"input",children:"Input"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PATHS"}),(0,s.jsx)(t.td,{children:"Where to crawl for JSONL files?"}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"['/opt/autopi/data/*.jsonl']"}),(0,s.jsx)(t.td,{children:"-"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"output",children:"Output"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"USERNAME"}),(0,s.jsx)(t.td,{children:"The username for connecting to Kafka."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"HOSTS"}),(0,s.jsx)(t.td,{children:"Kafka broker addresses from where to fetch the cluster metadata. The cluster metadata contain the actual Kafka brokers messages are published to."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"['localhost:9093']"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PASSWORD"}),(0,s.jsx)(t.td,{children:"The password for connecting to Kafka."}),(0,s.jsx)(t.td,{children:"str"}),(0,s.jsx)(t.td,{children:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"}),(0,s.jsx)(t.td,{children:"-"})]})]})]})]})}function x(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);