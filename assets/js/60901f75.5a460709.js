"use strict";(self.webpackChunkdocumentation_2=self.webpackChunkdocumentation_2||[]).push([[6867],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>d});var i=n(96540);const r={},o=i.createContext(r);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:t},e.children)}},29606:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"developer_guides/rfid-integartion","title":"RFID Reader Integration","description":"---","source":"@site/docs/developer_guides/rfid_integration.md","sourceDirName":"developer_guides","slug":"/developer_guides/rfid-integartion","permalink":"/developer_guides/rfid-integartion","draft":false,"unlisted":false,"editUrl":"https://github.com/autopi-io/documentation/edit/master/docs/developer_guides/rfid_integration.md","tags":[],"version":"current","frontMatter":{"id":"rfid-integartion","title":"RFID Reader Integration","supportedDevices":["cm4","pro"]},"sidebar":"sidebar","previous":{"title":"Remotely Waking up Your Device","permalink":"/developer_guides/remotely-waking-up-your-device"},"next":{"title":"Upgrade/Replace Your Raspberry Pi Computer","permalink":"/developer_guides/upgrading-your-raspberry-pi"}}');var r=n(74848),o=n(28453),s=(n(58162),n(47886));const d={id:"rfid-integartion",title:"RFID Reader Integration",supportedDevices:["cm4","pro"]},a=void 0,l={},h=[{value:"Enabling the RFID Component",id:"enabling-the-rfid-component",level:2},{value:"Using the RFID Reader",id:"using-the-rfid-reader",level:2}];function c(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{supported:d.supportedDevices}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.p,{children:["This is a short guide about how you can integrate an RFID reader with your ",(0,r.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"})," device."]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["The RFID device that you're using must be connected to the ",(0,r.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"})," through a USB cable and it should be such a reader\nthat acts as a keyboard device. It might be possible to use RFID readers that use another connectivity approach, but we\naren't sure if ",(0,r.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"})," devices will work well with those."]})}),"\n",(0,r.jsx)(t.h2,{id:"enabling-the-rfid-component",children:"Enabling the RFID Component"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Power on the device"}),(0,r.jsx)(t.br,{}),"\n","The RFID reader must first be connected to the ",(0,r.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"})," device. Power on the device, as we will need to gather some\ninformation for the RFID reader, namely, the vendor and product IDs."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Get the RFID reader's vendor ID and product ID"}),(0,r.jsx)(t.br,{}),"\n","Once the device is powered on, you can run the following command:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"$ usbutil.devices\n"})}),"\n",(0,r.jsxs)(t.p,{children:["This will show you a list of devices that are currently connected to the ",(0,r.jsx)(t.a,{href:"https://www.autopi.io",children:"AutoPi"}),". There should be a set of devices\nthat are always there:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Quectel Wireless Solutions modem (not present on DIY devices)","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"vendor: 2c7c"}),"\n",(0,r.jsx)(t.li,{children:"product: 0125"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Linux Foundation 2.0 root hub","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"vendor: 1d6b"}),"\n",(0,r.jsx)(t.li,{children:"product: 0002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Our custom hub","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"vendor: 0000"}),"\n",(0,r.jsx)(t.li,{children:"product: 0000"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Any other devices that have been connected will appear on the list as well. One of them should be the RFID reader.\nNote that sometimes the RFID reader might not have a name, similarly to our custom hub. Grab the vendor and product\nvalues for your RFID reader and note them down for the next step."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsxs)(t.strong,{children:["Type in the RFID reader's information in the ",(0,r.jsx)(t.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"})]}),(0,r.jsx)(t.br,{}),"\n","Now, it's time we enable the RFID reader from the ",(0,r.jsx)(t.a,{href:"https://www.autopi.io/software-platform/cloud-management",children:"Cloud"}),". Navigate to ",(0,r.jsx)(t.a,{href:"https://my.autopi.io",children:"my.autopi.io"})," and go to\nthe Device > Advanced Settings > RFID page."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["If you don't see the RFID section in the Advanced Settings, you should reach out to our sales department by writing\nan email to ",(0,r.jsx)(t.a,{href:"mailto:sales@autopi.io",children:"sales@autopi.io"}),"."]})}),"\n",(0,r.jsxs)(t.p,{children:["Now, we need to first enable the RFID reader functionality by clicking the Enabled field. It should say True. Next,\nwe need to type in the vendor and product ID combo that we noted down for the RFID reader under the Device Vendor\nProduct Id field. The format is the following: ",(0,r.jsx)(t.code,{children:"<vendor_id>:<product_id>"}),". Here's an example: ",(0,r.jsx)(t.code,{children:"2c7c:0125"}),". With those\ntwo settings set, hit the save button. The device will synchronize the changes and restart."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Only after following the steps above you can start populating the Authorized Tokens setting. The reason for that is that\nthis setting requires an RFID command that is otherwise not present. If you try to set the Authorized Tokens as you're\nenabling the RFID functionality, the changes will fail. However, that's okay, as you can simply reboot the device and it\nwill try to apply the settings again and they should be applied on the retry."}),"\n",(0,r.jsx)(t.h2,{id:"using-the-rfid-reader",children:"Using the RFID Reader"}),"\n",(0,r.jsxs)(t.p,{children:["Once you've setup your RFID reader, you can start using it with chips or cards. The device will report events whenever\nan RFID chip/card was held close to the reader and will also report authorized or rejected events based on the\nAuthorized Tokens setting we discussed above. You can view those events ",(0,r.jsx)(t.a,{href:"/cloud/device_management/events/cloud-events-system#rfid-events",children:"here"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},47886:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var i=n(74848);const r={mini:{name:"Mini",image:"/img/hardware/autopi_mini/AutoPi_Mini_5_Top_right.png"},cm4:{name:"TMU CM4",image:"/img/hardware/autopi_tmu_cm4/TMU_Floating_Topside_V1_scaled.png"},pro:{name:"CAN-FD Pro",image:"/img/hardware/autopi_canfd_pro/canfd_pro_trans.png"}};function o(e){let{supported:t}=e;return t?.length?(0,i.jsxs)("div",{style:{padding:"1rem",marginBottom:"1.5rem"},children:[(0,i.jsx)("strong",{children:"This guide is applicable to the following device/ devices:"}),(0,i.jsx)("div",{style:{display:"flex",gap:"1.5rem",marginTop:"0.5rem"},children:t.map((e=>{const t=r[e];return(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:t.image,alt:t.name,style:{height:"60px",marginBottom:"0.25rem"}}),(0,i.jsx)("div",{children:t.name})]},e)}))})]}):null}},58162:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);const i="homeGrid_MM9h",r="cardGrid_IPp8";var o=n(74848);const s=e=>{let{children:t,home:n=!1}=e;return(0,o.jsx)("div",{className:n?i:r,children:t})}}}]);