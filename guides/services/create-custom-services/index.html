<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DB2BZPKYN9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DB2BZPKYN9",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="AutoPi Documentation" href="/opensearch.xml"><title data-react-helmet="true">Create Custom Services | AutoPi Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.autopi.io/img/favicon-194x194.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.autopi.io/img/favicon-194x194.png"><meta data-react-helmet="true" property="og:url" content="https://docs.autopi.io/guides/services/create-custom-services/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:type" content="website"><meta data-react-helmet="true" property="og:title" content="Create Custom Services | AutoPi Documentation"><meta data-react-helmet="true" name="description" content="Sometimes, the pre-defined services won&#x27;t implement the functionality that you&#x27;re looking to have"><meta data-react-helmet="true" property="og:description" content="Sometimes, the pre-defined services won&#x27;t implement the functionality that you&#x27;re looking to have"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.autopi.io/guides/services/create-custom-services/"><link data-react-helmet="true" rel="alternate" href="https://docs.autopi.io/guides/services/create-custom-services/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.autopi.io/guides/services/create-custom-services/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://7BRH96O31B-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.71bb87a7.css">
<link rel="preload" href="/assets/js/runtime~main.b206671f.js" as="script">
<link rel="preload" href="/assets/js/main.72eec17f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo_trans_doc.png" alt="AutoPi Documentation Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo_trans_doc_dark.png" alt="AutoPi Documentation Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/cloud/cloud-intro/">Cloud</a><a class="navbar__item navbar__link" href="/hardware/hardware-intro/">Hardware</a><a class="navbar__item navbar__link" href="/core/core-intro/">Core</a><a class="navbar__item navbar__link" href="/guides/guides-intro/">Guides</a><a href="https://api.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/guides/guides-intro/">Getting started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Business</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">OBD-II</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Services</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/services/services-intro/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/services/create-custom-returners/">Create Custom Returners</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/services/create-custom-services/">Create Custom Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/services/create-custom-triggers/">Create Custom Triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/services/create-custom-workers/">Create Custom Workers</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/guides/4g-internet-setup-troubleshooting/">4G internet setup troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/a-guide-to-triggers/">A guide to Triggers</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/setting-up-docker/">Setting up Docker on your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/adding-a-new-widget-from-scratch/">Adding a New Widget from Scratch</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/autopi-logs/">AutoPi Logs</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/configuring-mqtt/">Configuring MQTT</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/enabling_bluetooth_on_TMU_devices/">Enabling Bluetooth on Devices With STN Chips</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/how-to-ssh-to-your-device/">How to SSH to your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/installing-a-camera-on-your-autopi/">Installing a Camera on Your AutoPi</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/j1939-getting-started-guide/">J1939 Getting Started Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/jumpers/">Jumpers</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/local-development-workflow/">Local Development Workflow</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/power-cycle-for-electric-vehicles/">Power Cycle for Electric Vehicles</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/reflashing-your-device/">Reflashing your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/remotely-waking-up-your-device/">Remotely waking up your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/rfid-integartion/">RFID Reader Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/setting-up-our-device-with-verizon-wireless/">Setting up our device with Verizon Wireless</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/upgrading-your-raspberry-pi/">Upgrade/Replace Your Raspberry Pi Computer</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/using-the-autopi-with-an-external-power-supply/">Using the AutoPi with an external power supply</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Create Custom Services</h1></header><p>Sometimes, the pre-defined services won&#x27;t implement the functionality that you&#x27;re looking to have
in your AutoPi. It is possible to create custom services that run on the device alongside the rest
of AutoPi&#x27;s services. This guide will explore how to do that.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="creating-a-custom-service"></a>Creating a Custom Service<a class="hash-link" href="#creating-a-custom-service" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Make sure that your device is updated, as that will otherwise prevent you from syncing the
modules.</p></div></div><ol><li><p>Go to the <strong>Advanced</strong> &gt; <strong>Custom Code</strong> section and click <strong>Create</strong>.</p></li><li><p>Fill out the fields, and change the type to <strong>Service</strong></p></li><li><p>After changing the type, the code editor will show the sample code for a basic service,
like this:</p><p><img alt="Default custom service code" src="/assets/images/default_custom_service_code-34491bce16fe13371125bc820f537b4b.png"> </p><p>This is a basic service, which logs when it starts and stops, you can then modify this to do
whatever you like. Just remember that the code inside the try except must be blocking, so the
above example will continuously start and stop.</p></li><li><p>When you click save, the custom module will be saved, and it will also create a new service for
you. This service is by default not enabled. To enable the service, click the icon to navigate
to the service.</p><p><img alt="Link to custom service" src="/assets/images/link_to_custom_service-ddc84bfc2ca2d2e7b690c9bf830c999b.png"></p><p>And then check the enabled checkbox in the settings tab, and click save.</p><p><img alt="Enabling a custom service" src="/assets/images/enabling_a_custom_service-5596c8a26176018325b2b1ab6888793e.png"> </p></li><li><p>Now sync the changes by clicking the sync button.</p></li><li><p>When asked if you want to restart the salt-minion process, you should click yes, as the service
is not loaded until the process has been restarted. You can also restart the minion process by
running the following commands:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># In web terminal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ minionutil.restart</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># In SSH terminal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl restart salt-minion</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="pip-requirements"></a>PIP Requirements<a class="hash-link" href="#pip-requirements" title="Direct link to heading">#</a></h2><p>You can add PIP requirements to custom code modules like so:</p><p><img alt="Adding PIP requirements" src="data:image/png;base64,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"> </p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You must follow the default python requirements.txt convention to define your PIP requirements.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="pass-settings-into-the-service"></a>Pass Settings Into the Service.<a class="hash-link" href="#pass-settings-into-the-service" title="Direct link to heading">#</a></h2><p>To pass settings into the service, you should set the settings field to a <em>valid</em> JSON object.</p><p><img alt="Passing settings to custom service" src="/assets/images/passing_settings_to_custom_service-fa878d16accdc65d06ee3f1083b3267c.png"> </p><p>Which can then be accessed inside the service like so:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">some_setting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> settings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;some_setting&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;default_value&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="a-few-examples"></a>A Few Examples<a class="hash-link" href="#a-few-examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="log-hello-world-every-5-seconds"></a>Log Hello World Every 5 Seconds<a class="hash-link" href="#log-hello-world-every-5-seconds" title="Direct link to heading">#</a></h3><p>Let&#x27;s try creating a service that simply outputs &quot;Hello World&quot; to the log every 5 seconds.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> logging</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> time</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">**</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">try</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Starting SERVICE with settings: {:}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;HELLO WORLD, anything new in the last 5 seconds?&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">except</span><span class="token plain"> Exception</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exception</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Failed to start SERVICE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">raise</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">finally</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Stopping SERVICE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Stop everything, close connections etc.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And if you have <code>info</code> level debugging configured on your device, you should now see it logging
&#x27;HELLO WORLD&#x27; every 5 seconds.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The log level of the device can be changed from the advanced settings, under <strong>System</strong> &gt;
<strong>Logging level</strong></p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="listen-to-mqtt-topics"></a>Listen to MQTT Topics<a class="hash-link" href="#listen-to-mqtt-topics" title="Direct link to heading">#</a></h3><p>This service will subscribe to all topics and log the messages. Remember to add the following PIP
requirements to the module:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">paho-mqtt==1.5.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Code</strong>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> logging</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> paho</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mqtt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> mqtt</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">connect_results </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Connection accepted&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The Server does not support the level of the MQTT protocol requested by the Client&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The Client identifier is correct UTF-8 but not allowed by the Server&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The Network Connection has been made but the MQTT service is unavailable&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The data in the user name or password is malformed&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The Client is not authorized to connect&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">on_message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">topic </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">qos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">payload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">on_subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> mid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> granted_qos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Subscribed: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">granted_qos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">on_log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">on_connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> flags</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> rc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;{:}: {:}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> connect_results</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Unknown result code&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> rc </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">raise</span><span class="token plain"> Exception</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">try</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;#&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> qos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Subscribes to all topics.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">except</span><span class="token plain"> Exception </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> ex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exception</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Exception occurred when setting up registers&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># glocal settings</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">qos </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">**</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">global</span><span class="token plain"> qos</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    usetls </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    tlsVersion </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># will use most recent version</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cacerts </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    port </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8883</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    host </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    username </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;username&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    password </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;password&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    debug </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    keepalive </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Setup</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mqttc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mqtt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> clean_session</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> usetls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">tls_set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ca_certs</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">cacerts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> certfile</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> keyfile</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cert_reqs</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ssl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">CERT_REQUIRED</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tls_version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tlsVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">username_pw_set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">on_message </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> on_message</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">on_connect </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> on_connect</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">on_subscribe </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> on_subscribe</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">on_log </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> on_log</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">try</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Starting MQTT engine&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Connecting to {:} port: {:}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> keepalive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">loop_forever</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">retry_first_connection</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">except</span><span class="token plain"> Exception</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exception</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Failed to start MQTT engine&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">raise</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">finally</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Stopping MQTT engine&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mqttc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">disconnect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Further inspiration on how to write custom services (or engines as they are also called):</p><ul><li><a href="https://docs.saltstack.com/en/2017.7/topics/engines/index.html" target="_blank" rel="noopener noreferrer">Salt documentation</a></li><li><a href="https://github.com/autopi-io/autopi-core/tree/master/src/salt/base/ext/_engines" target="_blank" rel="noopener noreferrer">Examples AutoPi.io on Github</a></li></ul><h2>Discussion</h2><p>If you&#x27;d like to discuss this topic with us or other fellow community members, you can do so on our community page dedicated for this guide: <a href="https://community.autopi.io/t/guide-creating-custom-services/2035">Creating Custom Services</a>.</p><p>You can also write us an email on <a href="mailto:support@autopi.io">support@autopi.io</a>. We usually respond back in 24 hours on working days.</p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/autopi-io/documentation/edit/master/docs/guides/services/create_custom_services.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/guides/services/create-custom-returners/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Create Custom Returners</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/guides/services/create-custom-triggers/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create Custom Triggers Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-custom-service" class="table-of-contents__link">Creating a Custom Service</a></li><li><a href="#pip-requirements" class="table-of-contents__link">PIP Requirements</a></li><li><a href="#pass-settings-into-the-service" class="table-of-contents__link">Pass Settings Into the Service.</a></li><li><a href="#a-few-examples" class="table-of-contents__link">A Few Examples</a><ul><li><a href="#log-hello-world-every-5-seconds" class="table-of-contents__link">Log Hello World Every 5 Seconds</a></li><li><a href="#listen-to-mqtt-topics" class="table-of-contents__link">Listen to MQTT Topics</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">AutoPi.io</div><ul class="footer__items"><li class="footer__item"><a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">AutoPi.io</a></li><li class="footer__item"><a href="https://my.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">My AutoPi Cloud</a></li><li class="footer__item"><a href="https://shop.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shop</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://community.autopi.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>AutoPi Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/autopi-io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub - AutoPi Core<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://www.reddit.com/r/autopi/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/autopi_io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/autopi.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCH50VR17emPVVfnIWlGMLig" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 AutoPi.io.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b206671f.js"></script>
<script src="/assets/js/main.72eec17f.js"></script>
</body>
</html>