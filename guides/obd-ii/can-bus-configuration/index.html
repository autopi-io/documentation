<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DB2BZPKYN9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DB2BZPKYN9",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="AutoPi Documentation" href="/opensearch.xml"><title data-react-helmet="true">CAN Bus configuration | AutoPi Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.autopi.io/img/favicon-194x194.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.autopi.io/img/favicon-194x194.png"><meta data-react-helmet="true" property="og:url" content="https://docs.autopi.io/guides/obd-ii/can-bus-configuration/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:type" content="website"><meta data-react-helmet="true" property="og:title" content="CAN Bus configuration | AutoPi Documentation"><meta data-react-helmet="true" name="description" content="This page describes what to do if you&#x27;ve tried autodetecting the CAN bus, and this has not worked."><meta data-react-helmet="true" property="og:description" content="This page describes what to do if you&#x27;ve tried autodetecting the CAN bus, and this has not worked."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.autopi.io/guides/obd-ii/can-bus-configuration/"><link data-react-helmet="true" rel="alternate" href="https://docs.autopi.io/guides/obd-ii/can-bus-configuration/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.autopi.io/guides/obd-ii/can-bus-configuration/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://7BRH96O31B-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.eae91e33.css">
<link rel="preload" href="/assets/js/runtime~main.35398a1b.js" as="script">
<link rel="preload" href="/assets/js/main.b1644c1b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo_trans_doc.png" alt="AutoPi Documentation Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo_trans_doc_dark.png" alt="AutoPi Documentation Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/cloud/cloud-intro/">Cloud</a><a class="navbar__item navbar__link" href="/core/core-intro/">Core</a><a class="navbar__item navbar__link" href="/hardware/hardware-intro/">Hardware</a><a class="navbar__item navbar__link" href="/guides/guides-intro/">Guides</a><a href="https://api.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a></div><div class="navbar__items navbar__items--right"><a href="https://demo.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link btn-primary cta-btn">Online Demo</a><a href="https://my.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cloud-btn">My Cloud</a><a href="https://shop.autopi.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link cta-btn">Shop</a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/guides/guides-intro/">Getting started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mini</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Business</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">OBD-II</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/obd-ii-intro/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/obd-ii/can-bus-configuration/">CAN Bus configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/create-can-signal-loggers/">Create CAN Signal Loggers (Coming Soon)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/create-pid-loggers/">Create PID Loggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/debug-raw-pid-queries/">Debug Raw PID Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/how-to-use-the-car-explorer-feature/">How To Use The &quot;Car Explorer&quot; Feature</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/log-raw-can-messages/">Log raw CAN messages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/obd-ii/using-the-can-bus-commands/">Using the CAN bus commands</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Services</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/4g-internet-setup-troubleshooting/">4G internet setup troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/a-guide-to-triggers/">A guide to Triggers</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/adding-a-new-widget-from-scratch/">Adding a New Widget from Scratch</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/automatic-obd-logger-pausing/">Automatic OBD Logger Pausing</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/autopi-logs/">AutoPi Logs</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/configuring-mqtt/">Configuring MQTT</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/enabling_bluetooth_on_TMU_devices/">Enabling Bluetooth on Devices With STN Chips</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/how-to-ssh-to-your-device/">How to SSH to your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/installing-a-camera-on-your-autopi/">Installing a Camera on Your AutoPi</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/j1939-getting-started-guide/">J1939 Getting Started Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/jumpers/">Jumpers</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/local-development-workflow/">Local Development Workflow</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/power-cycle-for-electric-vehicles/">Power Cycle for Electric Vehicles</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/reflashing-your-device/">Reflashing your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/remotely-waking-up-your-device/">Remotely waking up your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/rfid-integartion/">RFID Reader Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/setting-up-docker/">Setting up Docker on your device</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/setting-up-our-device-with-verizon-wireless/">Setting up our device with Verizon Wireless</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/upgrading-your-raspberry-pi/">Upgrade/Replace Your Raspberry Pi Computer</a></li><li class="menu__list-item"><a class="menu__link" href="/guides/using-the-autopi-with-an-external-power-supply/">Using the AutoPi with an external power supply</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>CAN Bus configuration</h1></header><p>This page describes what to do if you&#x27;ve tried autodetecting the CAN bus, and this has not worked.
To be more exact, we&#x27;ll reiterate on how to use the auto-detect feature, how the feature works and
how to do what it does manually, how to check whether the vehicle supports passive CAN bus
monitoring.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="common-causes-of-failures-and-how-to-troubleshoot"></a>Common causes of failures, and how to troubleshoot<a class="hash-link" href="#common-causes-of-failures-and-how-to-troubleshoot" title="Direct link to heading">#</a></h2><p>Under normal circumstances, the device will boot for the first time and will try to autodetect the
protocol automatically, then send the results back to us, where we create a CAN Bus for your device,
flagged as autodetected.</p><p><img alt="Alt text" src="/assets/images/autodetected_bus-4604af3e3d37b069c55db2d07d49d911.png"></p><p>Sometimes, this will not happen. This can be because of multiple reasons:</p><ul><li>The device is in an incorrect state</li><li>Internet connectivity issues</li><li>The vehicle does not support OBD-II</li><li>The vehicle supports OBD-II, but the ECUs are not on</li><li>The vehicle supports OBD-II, the ECUs are on, but they are not active</li><li>The vehicle uses a configuration, which is not checked by the autodetect</li><li>A combination of 2 or more of the above </li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="the-device-is-in-an-incorrect-state"></a>The device is in an incorrect state<a class="hash-link" href="#the-device-is-in-an-incorrect-state" title="Direct link to heading">#</a></h3><p>Whenever an AutoPi device is powered on, sleep timers are created, which will turn the device off in a few
minutes. Check the status of the LEDs on the side of the device to make sure the device has not gone to sleep.
Both the green and blue LEDs should be lit constant and bright. If the blue LED is breathing (varying in its
bringtness from dim to bright), it&#x27;s sleeping. The easiest way to get it to turn back on is to disconnect it
from the OBD-II port, and reconnect. Wait until both LEDs are solid, then move on to further steps.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You can learn more about the power cycle on the <a href="/core/power_management/core-power-intro/">Power Management Documentation</a>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="internet-connectivity-issues"></a>Internet connectivity issues<a class="hash-link" href="#internet-connectivity-issues" title="Direct link to heading">#</a></h3><p>These can make it seem like the autodetect is not working. Unless you&#x27;re connecting to the device through
its Wireless Access Point and running commands from its local terminal, you should test the connectivity
before checking for any of the further issues. Try running the following command from the terminal in the
cloud portal: <code>test.ping</code>. Note that just because you see some data in the dashboard, doesn&#x27;t mean that
there&#x27;s a good enough connection for commands to be received by the device, and for it to be able to send
the command results back. If you get a response that looks something like the screenshot below, you may
move on further. Otherwise, check out the <a href="/guides/4g-internet-setup-troubleshooting/">4G Troubleshooting Guide</a>.</p><p><img alt="Alt text" src="data:image/png;base64,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"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="the-vehicle-supports-obd-ii-but-the-ecus-are-not-running"></a>The vehicle supports OBD-II, but the ECUs are not running<a class="hash-link" href="#the-vehicle-supports-obd-ii-but-the-ecus-are-not-running" title="Direct link to heading">#</a></h3><p>This is the most probable explanation. Most ECUs will not be running while the vehicle is off, therefore,
if you&#x27;re trying to run the autodetect with the engine turned off, you&#x27;re almost sure to not succeed.
The fix for this is to turn the ignition on.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="the-vehicle-does-not-support-obd-ii"></a>The vehicle does not support OBD-II<a class="hash-link" href="#the-vehicle-does-not-support-obd-ii" title="Direct link to heading">#</a></h3><p>This is the simplest explination of why autodetect is not working. In the section
&quot;<a href="#how-bus-autodetection-works">How Bus Autodetection Works</a>&quot;, we explain that the feature relies on
responses to a specific OBD-II query that should be supported by all OBD-II compliant vehicles.</p><p>If this seems to be the case, all is not lost yet. It is likely that the vehicle supports another protocol
like J1939, UDS or something proprietary to that manufacturer. Check out the section
on non-OBD-II queries (COMING SOON) and <a href="#passive-can-traffic">Passive CAN Traffic</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="the-vehicle-supports-obd-ii-the-ecus-are-on-but-they-are-not-active"></a>The vehicle supports OBD-II, the ECUs are on, but they are not active<a class="hash-link" href="#the-vehicle-supports-obd-ii-the-ecus-are-on-but-they-are-not-active" title="Direct link to heading">#</a></h3><p>This is the most complicated case. There&#x27;s multiple ways this issue can present itself:</p><ol><li>The bus is autodetected, but the vehicle is periodically not responding to queries that have worked before</li><li>Manufacturer-made OBD-II scanners work, however, the AutoPi can not read the same data</li><li>The manufacturer claims to support OBD-II, however, whichever configuration you try, no data can be read</li><li>Others not mentioned</li></ol><p>In this case, there&#x27;s a few things you can try:</p><ul><li>If you&#x27;ve got an OBD-II adapter that&#x27;s able to read data, you can connect both the adapter and the AutoPi to
the vehicle&#x27;s bus and see what the adapter does. One common case is that it sends some CAN frames,
which activate the ECUs and they start to respond afterwards. You can then set up workflows that send these same
frames at startup to active the ECUs. It can also be the case that the vehicle does not support OBD-II and
this can help you find out what protocol it is actually using.</li><li>Browse the internet to see if anyone has already tried reverse engineering the CAN bus on your vehicle. Sometimes,
what works on one car from the manufacturer will work for another.</li><li>Contact the manufacturer to find out how the ECUs expect to be communicated with.</li><li>Try and reverse engineer the bus yourself. This can be a tedious and time consuming task. Depending on your
preferred workflow, you may prefer to <a href="/guides/how-to-ssh-to-your-device/">ssh into the device</a> and use the Linux
<a href="https://manpages.debian.org/testing/can-utils/index.html" target="_blank" rel="noopener noreferrer">can-utils command line utility</a>. The most notable commands
in this are <em>candump</em> and <em>cansend</em>. To change the configuration of the CAN connection, you can use the
<a href="/core/commands/core-commands-socketcan/">socketcan.up and socketcan.down</a> commands. </li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="the-vehicle-supports-obd-ii-but-the-vehicle-uses-a-configuration-which-is-not-checked-by-the-autodetect"></a>The vehicle supports OBD-II, but the vehicle uses a configuration, which is not checked by the autodetect<a class="hash-link" href="#the-vehicle-supports-obd-ii-but-the-vehicle-uses-a-configuration-which-is-not-checked-by-the-autodetect" title="Direct link to heading">#</a></h3><p>If you take a look at the <a href="#passive-can-traffic">how bus autodetection works</a> section, you&#x27;ll learn that the
device checks a pre-defined list of configurations. It&#x27;s possible that your vehicle uses one that is not in this list.
Check the <a href="#finding-configuration-manually">Finding configuration manually</a> section to see further steps.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="how-bus-autodetection-works"></a>How bus autodetection works<a class="hash-link" href="#how-bus-autodetection-works" title="Direct link to heading">#</a></h2><p>The easiest way to run autodetection is through the cloud portal from the Vehicles Editor. This will do 2 things.
First it will try to find the correct configuration for CAN connectivity (see
<a href="#finding-configuration-manually">Finding Configuration Manually</a> for an explanation). Second, it will try to find
the supported OBD-2 PIDs and create them in your Library.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="automatic-autodetection-flow"></a>Automatic autodetection flow<a class="hash-link" href="#automatic-autodetection-flow" title="Direct link to heading">#</a></h3><p>When first installing a device, an autodetect will be run automatically for cars, which would normally
support the OBD-II protocol. Expressed programmatically, this set of conditions must be met for automatic
bus autodetection to happen:</p><ul><li>The device is associated to a vehicle</li><li>The vehicle is of &quot;Internal Combustion Engine&quot; (ICE) type</li><li>The vehicle has a car model</li><li>The vehicle does not already have an auto-detected bus, which supports one or more standard OBD-II PIDs</li></ul><p>If all these conditions are met, the device will follow this flow when booting:</p><ol><li>The device downloads configurations from our backend<ol><li>The backend checks the conditions listed above</li><li>The backend adds an <code>obd.commands</code> command to the &quot;startup modules&quot; in the configuration</li></ol></li><li>The device executes the startup modules, one of which is the <code>obd.commands</code> command</li><li><code>obd.commands</code> runs a <code>0100</code> PID query with a predefined list of configurations</li><li>If none of the configurations returns a result, raise an <code>Unable to autodetect OBD protocol</code> error</li><li>If we see a response, run the rest of the <code>obd.commands</code> functionality which queries for supported PIDs,
using the just found configuration.  </li><li>The device sets its currently used protocol to the autodetected protocol, and updates its internal
&#x27;supported PID database&#x27;</li><li>The device returns the protocol and supported commands to the backend through the cloud returner</li><li>The backend uses this to create a bus for the device&#x27;s currently assigned vehicle, creates OBD-II
PIDs in your library and adds the most common ones to the bus</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="protcol-autodetection-flow"></a>Protcol autodetection flow<a class="hash-link" href="#protcol-autodetection-flow" title="Direct link to heading">#</a></h3><p>When autodetection is invoked, it will first try to find the correct interface and baudrate, then the
set of supported PIDs. To find the interface and baudrate, the device goes through the following flow:</p><ol><li>Destroy the current connection if one exists</li><li>Set up a new connection with a set of configurations from a predefined list.</li><li>Send an OBD-II <code>0100</code> request</li><li>If we don&#x27;t get a response, go back to step 1 and try again until we either see a response, or we run
out of configurations to try.</li><li>If we get a response, that&#x27;s the valid protol. </li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="finding-configuration-manually"></a>Finding configuration manually<a class="hash-link" href="#finding-configuration-manually" title="Direct link to heading">#</a></h2><p>Protocol determines which bus (HSCAN or MSCAN) and what bitrate is being used:</p><ul><li>31 - HSCAN (can0), 11-bit</li><li>32 - HSCAN (can0), 29-bit</li><li>51 - MSCAN (can1), 11-bit</li><li>52 - MSCAN (can1), 29-bit</li></ul><p>The most common baudrates are 125000, 250000 and 500000.</p><p>Go through all combinations of these: protocol 31 and baudrate 125000, protocol 31 and baudrate 250000, etc.
Once you find a combination that works, note down the protocol number, interface, the header length and the
baudrate. You can then create the bus in the Cloud Portal, and set up loggers for it. </p><p>Note that if you run the <code>obd.protocol</code> command, you will see many more than the 4 protocols listed above.
Some of these are legacy and  are no longer supported by the hardware. However, some add message decoding
information to the queries, which can have a difference whether a response is received or not. It&#x27;s worth
trying some of these if the 4 listed above do not work.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="obd-ii"></a>OBD-II<a class="hash-link" href="#obd-ii" title="Direct link to heading">#</a></h3><p>If you have reason to think the vehicle should support OBD-II, but autodetect is unable to find the protocol,
you may try and find it manually. What this essentially entails is trying to retrieve the OBD-II commands PID
(<code>0100</code>) from the vehicle with the configurations listed above. This can be one with the <code>obd.commands</code> query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ obd.commands </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">protocol</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">32</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">baudrate</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">500000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configuration invalid</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token key atrule">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> No data received when trying to verify connectivity of protocol &#x27;&lt;class &#x27;can_obd_conn.HSC_ISO_11898_11bit_500k&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configuration valid</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">_stamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2000-01-01T10:10:10.100000&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">protocol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">autodetected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">baudrate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ecus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">                   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;32&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> HS CAN (ISO 11898</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> 29bit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> 500kbps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> var DLC)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">supported</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">                                            </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ABSOLUTE_LOAD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Absolute load value (PID 0x0143)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ACCELERATOR_POS_D</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Accelerator pedal position D (PID 0x0149)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="passive-can-traffic"></a>Passive CAN traffic<a class="hash-link" href="#passive-can-traffic" title="Direct link to heading">#</a></h3><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>From Core sofware version 1.24.0, the obd.monitor command will show both 11-bit header and 29-bit header messages, no
matter if the selected protocol is 11-bit or 29-bit. When setting up CAN Signal loggers, the bus&#x27; default protocol must
be of the same header length as the messages being received. </p></div></div><p>Many vehicles nowadays also have ECUs broadcasting data on the CAN bus. To find out if this is the case, you
can follow the same idea as with OBD-II, except you&#x27;re trying to listen to any data on the bus:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ obd.monitor </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">duration</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">verify</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">False </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">protocol</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">32</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">baudrate</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">500000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configuration invalid:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token key atrule">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> No data received from vehicle within timeout</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configuration valid:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">_stamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2000-01-01T10:10:15.100000&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">_type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> raw</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">_stamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2000-01-01T10:10:10.100000&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 17fc007b03918511aabbccdd</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">_stamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2000-01-01T10:10:11.100000&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 07fc007b127abbfd12412381</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/autopi-io/documentation/edit/master/docs/guides/obd-ii/can_bus_configuration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/guides/obd-ii/obd-ii-intro/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/guides/obd-ii/create-can-signal-loggers/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create CAN Signal Loggers (Coming Soon) Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#common-causes-of-failures-and-how-to-troubleshoot" class="table-of-contents__link">Common causes of failures, and how to troubleshoot</a><ul><li><a href="#the-device-is-in-an-incorrect-state" class="table-of-contents__link">The device is in an incorrect state</a></li><li><a href="#internet-connectivity-issues" class="table-of-contents__link">Internet connectivity issues</a></li><li><a href="#the-vehicle-supports-obd-ii-but-the-ecus-are-not-running" class="table-of-contents__link">The vehicle supports OBD-II, but the ECUs are not running</a></li><li><a href="#the-vehicle-does-not-support-obd-ii" class="table-of-contents__link">The vehicle does not support OBD-II</a></li><li><a href="#the-vehicle-supports-obd-ii-the-ecus-are-on-but-they-are-not-active" class="table-of-contents__link">The vehicle supports OBD-II, the ECUs are on, but they are not active</a></li><li><a href="#the-vehicle-supports-obd-ii-but-the-vehicle-uses-a-configuration-which-is-not-checked-by-the-autodetect" class="table-of-contents__link">The vehicle supports OBD-II, but the vehicle uses a configuration, which is not checked by the autodetect</a></li></ul></li><li><a href="#how-bus-autodetection-works" class="table-of-contents__link">How bus autodetection works</a><ul><li><a href="#automatic-autodetection-flow" class="table-of-contents__link">Automatic autodetection flow</a></li><li><a href="#protcol-autodetection-flow" class="table-of-contents__link">Protcol autodetection flow</a></li></ul></li><li><a href="#finding-configuration-manually" class="table-of-contents__link">Finding configuration manually</a><ul><li><a href="#obd-ii" class="table-of-contents__link">OBD-II</a></li><li><a href="#passive-can-traffic" class="table-of-contents__link">Passive CAN traffic</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">AutoPi.io</div><ul class="footer__items"><li class="footer__item"><a href="https://www.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">AutoPi.io</a></li><li class="footer__item"><a href="https://my.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">My AutoPi Cloud</a></li><li class="footer__item"><a href="https://shop.autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shop</a></li><li class="footer__item"><a href="https://docs.autopi.io/search/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Search Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://community.autopi.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>AutoPi Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/autopi-io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub - AutoPi Core<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://www.reddit.com/r/autopi/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/autopi_io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/autopi.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/autopi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCH50VR17emPVVfnIWlGMLig" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 AutoPi.io.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.35398a1b.js"></script>
<script src="/assets/js/main.b1644c1b.js"></script>
</body>
</html>